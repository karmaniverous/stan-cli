### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

#### [0.13.0-2](https://github.com/karmaniverous/stan-cli/compare/0.13.0-1...0.13.0-2)

- fix: exclude typescript from bundle to prevent ESM runtime error [`db58fd9`](https://github.com/karmaniverous/stan-cli/commit/db58fd95c8178eb7f08ce373d4c5da1dd2da67bf)

#### [0.13.0-1](https://github.com/karmaniverous/stan-cli/compare/0.13.0-0...0.13.0-1)

> 26 January 2026

- chore: release v0.13.0-1 [`0af3410`](https://github.com/karmaniverous/stan-cli/commit/0af341045fa848b5e4d621ae33ec6e782504021e)
- docs(cli): drop --meta; add core snap note [`561f717`](https://github.com/karmaniverous/stan-cli/commit/561f717ecb8cbf09416075986ed859b160521030)
- docs: update meta archive and context/combine flag references [`726cec0`](https://github.com/karmaniverous/stan-cli/commit/726cec08b7c532233913d0b0351b7b7338518931)
- fix: update context mode for dependency v2 (map/meta split) [`4a8b5f0`](https://github.com/karmaniverous/stan-cli/commit/4a8b5f0395344068b2bf2ab553482f9e9c61baa4)

#### [0.13.0-0](https://github.com/karmaniverous/stan-cli/compare/0.12.4...0.13.0-0)

> 24 January 2026

- When: 2026-01-23 12:45 UTC [`a2ea1cf`](https://github.com/karmaniverous/stan-cli/commit/a2ea1cf222f90dd316899149171b8a948995d376)
- chore: release v0.13.0-0 [`213e0db`](https://github.com/karmaniverous/stan-cli/commit/213e0db7aca74f2a729c2ed016b8c8a31d9ee7ba)
- When: 2025-02-19 [`dd90110`](https://github.com/karmaniverous/stan-cli/commit/dd90110c45952d410f31319badf2bbb4df504ffa)
- updated dependencies [`8d62515`](https://github.com/karmaniverous/stan-cli/commit/8d625158e67e5e802c6f063bd73a1ee25a053312)
- When: 2025-05-15 10:00:00Z [`bdce951`](https://github.com/karmaniverous/stan-cli/commit/bdce9510bbda352977c2622bc5bfe19a841cfaba)
- When: 2025-02-19 [`ce5575e`](https://github.com/karmaniverous/stan-cli/commit/ce5575ee295532d62de6d2c7f3df448d24273ba4)
- When: 2025-05-15 11:30:00Z [`e3eeabe`](https://github.com/karmaniverous/stan-cli/commit/e3eeabe5efa92021c9cb13160fc7c8953e41b743)
- When: 2025-02-19 [`1e9d78f`](https://github.com/karmaniverous/stan-cli/commit/1e9d78fb723a3cfd865bf6076d17b4ce4a645309)
- When: 2026-01-23 13:15 UTC [`2bc123b`](https://github.com/karmaniverous/stan-cli/commit/2bc123bb1e41a73c6b75de822860522d18e2f7ba)
- When: 2025-02-17 [`99d191a`](https://github.com/karmaniverous/stan-cli/commit/99d191aa0bc6bfe8397402ee0cc5643f56b13252)
- Docs updates [`1339de8`](https://github.com/karmaniverous/stan-cli/commit/1339de8e6d7a626abf3a8fa731eb7acdf57b648b)
- feat(cli): reorder context flags and implement --meta bootstrap mode [`5710af4`](https://github.com/karmaniverous/stan-cli/commit/5710af437594dee0c01ec464bb95a87a29f73e35)
- When: 2026-01-23 13:20 UTC [`14f727f`](https://github.com/karmaniverous/stan-cli/commit/14f727f416c3037116e2103fdf74a13d1f4323c1)
- When: 2026-01-23 13:40 UTC [`dd32808`](https://github.com/karmaniverous/stan-cli/commit/dd32808e609c629d99350a4cde9ae8725dc6cbcf)
- When: 2025-02-19 [`7f5ba6a`](https://github.com/karmaniverous/stan-cli/commit/7f5ba6af67009d771271a06cd307946647ff5713)
- docs: endorse assistant guide strategy in project prompt [`1a49dc9`](https://github.com/karmaniverous/stan-cli/commit/1a49dc913b78c541518d8f1de1475fb26bf041ea)
- updated deps [`12faa78`](https://github.com/karmaniverous/stan-cli/commit/12faa7858d5ea8927dab0e5cf00af49c7bd2319c)
- refactor: replace any types with inferred core types and safe casts [`994bd3d`](https://github.com/karmaniverous/stan-cli/commit/994bd3d705f5e9e77719ea6a682ad92057cd4025)
- When: 2025-02-17 [`da7bb13`](https://github.com/karmaniverous/stan-cli/commit/da7bb13aacf9608e75a4c1f39d361d23104688b8)
- fix: inject typescript module into dependency graph build [`0463ac8`](https://github.com/karmaniverous/stan-cli/commit/0463ac8af9d3101ce16881de6dd3736b087ca683)
- docs: update dev plan and establish scratch file [`d9e283c`](https://github.com/karmaniverous/stan-cli/commit/d9e283c1a060fed1153ef3058542a27412e1f0fb)
- chore: fix typecheck and lint regressions [`8f0cf15`](https://github.com/karmaniverous/stan-cli/commit/8f0cf159d19c24986a37d0a8fee93c4a9b598ce5)
- unsuppressed lint errors [`d24a7d9`](https://github.com/karmaniverous/stan-cli/commit/d24a7d9367d004cf4b96ae12662d1dbfc5318a03)
- docs: add interop note for context mode typescript resolution failure [`c7e5cf8`](https://github.com/karmaniverous/stan-cli/commit/c7e5cf8bf5559ffbb5b0628f6e6962ae16c436d3)
- When: 2025-02-19 [`5587c96`](https://github.com/karmaniverous/stan-cli/commit/5587c96b5a9eccba7ac9b158bede465d0f73e914)
- fix: add stan-context dependency for context mode support [`461a8c8`](https://github.com/karmaniverous/stan-cli/commit/461a8c8c07e5d5c14e0dd3ba0cdaecaa5a1c09b8)
- updated requirements [`3e3894b`](https://github.com/karmaniverous/stan-cli/commit/3e3894bf39fabed9f0255ba5ad14af82441acda0)
- When: 2025-02-19 [`951556a`](https://github.com/karmaniverous/stan-cli/commit/951556a9a38747443fd33ad3600d61ad4fc3ff44)
- fix: export DependencyContext to resolve TypeDoc warning [`0f60c5e`](https://github.com/karmaniverous/stan-cli/commit/0f60c5e79d2f86165f3ff8b2b28207c3d7c8a042)
- updated dependencies [`a4fb643`](https://github.com/karmaniverous/stan-cli/commit/a4fb6439ae0f6c37b24fb71e08d5a4f707d93319)
- docs: add interop note for system prompt checklist gap [`0173d25`](https://github.com/karmaniverous/stan-cli/commit/0173d256d17363876096ad85c7337d47b2f792b4)
- installed ts as runtime dep [`8bd0283`](https://github.com/karmaniverous/stan-cli/commit/8bd0283837f74477d5d5bc7b67291c6c38447e48)

#### [0.12.4](https://github.com/karmaniverous/stan-cli/compare/0.12.3...0.12.4)

> 18 January 2026

- updated dependencies [`7b4ee55`](https://github.com/karmaniverous/stan-cli/commit/7b4ee555bbcd201a7abffe83e23d87d7a0c7d5a0)
- chore: release v0.12.4 [`72a01b4`](https://github.com/karmaniverous/stan-cli/commit/72a01b457e18e3c1bdbd24e250e0f874fb13b083)
- updated docs [`eba6c9d`](https://github.com/karmaniverous/stan-cli/commit/eba6c9d4a06a81c8d1b7b87878d25c818301513c)

#### [0.12.3](https://github.com/karmaniverous/stan-cli/compare/0.12.2...0.12.3)

> 4 January 2026

- bugfix/3 stan snap undo doesnt appear to roll back snap state [`#14`](https://github.com/karmaniverous/stan-cli/pull/14)
- [3] Fix snap undo restore + noninteractive tests [`678f89e`](https://github.com/karmaniverous/stan-cli/commit/678f89e783358a8aa69fac1c390410a1c29290bd)
- chore: release v0.12.3 [`7df576a`](https://github.com/karmaniverous/stan-cli/commit/7df576a3a70f5415d37b23fc8375f3bedd06cac4)
- updated docs [`5ff9c4f`](https://github.com/karmaniverous/stan-cli/commit/5ff9c4f4aeafdf211117ceca04b1fa783024f6fd)
- [3] refactor(prompt): use package-directory for pkg roots [`ee2fc72`](https://github.com/karmaniverous/stan-cli/commit/ee2fc72af915497753b488ab9c9b72e40522e43c)
- [3] fix(snap): undo works from subdirectories [`771a78c`](https://github.com/karmaniverous/stan-cli/commit/771a78c99eaf0ae087588588cb1b81fcb0e65db3)
- [3] fix(snap): handle null config path from subdirs [`64ba253`](https://github.com/karmaniverous/stan-cli/commit/64ba25356d54535ed08028d2d4f10a701f7fffea)
- Update .stan/system/stan.todo.md [`4dcb843`](https://github.com/karmaniverous/stan-cli/commit/4dcb8432264f667e9bd125554f3df6208e80d3ca)

#### [0.12.2](https://github.com/karmaniverous/stan-cli/compare/0.12.1...0.12.2)

> 31 December 2025

- Fix overlay filters and nested carve-outs [`27e105f`](https://github.com/karmaniverous/stan-cli/commit/27e105faef28f85537575fd5258bd6ee211f7772)
- chore: release v0.12.2 [`8b41d39`](https://github.com/karmaniverous/stan-cli/commit/8b41d392ca48dcfa386f2806cac17b07cec3a6f8)
- test: cover new anchored file in diff [`f2f3297`](https://github.com/karmaniverous/stan-cli/commit/f2f32973079bd32b299dd169bc8004238fe47e6e)
- docs: sync facet overlay docs w/ behavior [`06d7f34`](https://github.com/karmaniverous/stan-cli/commit/06d7f3441e214b8fe21109966b08e43a3cc9c9b0)
- Clarify facet semantics: tests are a filter [`8c3aa17`](https://github.com/karmaniverous/stan-cli/commit/8c3aa1746164f32d4597d7d1d725b86f9978f196)
- Update dev plan after overlay fixes [`9d3d954`](https://github.com/karmaniverous/stan-cli/commit/9d3d9548df98ff742906cbff67c05d536c02a91e)

#### [0.12.1](https://github.com/karmaniverous/stan-cli/compare/0.12.0...0.12.1)

> 30 December 2025

- [6] Auto-include imports; gitignore by default [`#12`](https://github.com/karmaniverous/stan-cli/pull/12)
- chore: release v0.12.1 [`404e97b`](https://github.com/karmaniverous/stan-cli/commit/404e97b6e7daa1cd4ee432bcd3dbbd7e9a234784)
- Update src/runner/selection/implicit-imports.ts [`be615fe`](https://github.com/karmaniverous/stan-cli/commit/be615fe825c318703c74b6346f381784033e54c3)

#### [0.12.0](https://github.com/karmaniverous/stan-cli/compare/0.11.7...0.12.0)

> 29 December 2025

- bugfix/10 facets changes enablement are not reflected in archive [`#11`](https://github.com/karmaniverous/stan-cli/pull/11)
- [10] docs: clarify facets flags and diff anchors [`f19c63c`](https://github.com/karmaniverous/stan-cli/commit/f19c63c8f885b183d9134ef45920011d31a65e57)
- chore: release v0.12.0 [`9cacb0d`](https://github.com/karmaniverous/stan-cli/commit/9cacb0d78829c9863b85fc6483540a77bc4529c7)
- [10] fix: facet flags + diff anchors; add regressions [`ccb6bb9`](https://github.com/karmaniverous/stan-cli/commit/ccb6bb94446a61e085392683b08ee2e8df49e4f1)
- [10] docs: refresh guides and cross-links [`d3e51d3`](https://github.com/karmaniverous/stan-cli/commit/d3e51d38b82ef5f6dac466c85369f2dba8f32679)
- [10] docs: add stan assistant guide [`bd5ed4e`](https://github.com/karmaniverous/stan-cli/commit/bd5ed4ea78eb460c65938d3eacc004d440e1d266)
- [10] Add diff anchor changed-only integration test [`5454126`](https://github.com/karmaniverous/stan-cli/commit/5454126b90c3927e874bde77b310952c6286452e)
- [10] renamed docs-src -&gt; guides [`f226ef3`](https://github.com/karmaniverous/stan-cli/commit/f226ef3cba79b7aa45cd6874d74db5585cb89849)
- [10] Add TypeDoc comments for exported types [`bc3c5d5`](https://github.com/karmaniverous/stan-cli/commit/bc3c5d5896813f873cea00ece7464dca1c99c44e)
- [10] Fix facets parse test lint + assertion [`fc4b077`](https://github.com/karmaniverous/stan-cli/commit/fc4b077aa79dbc98e473a7dbe16d1bb6ff74e84b)
- [10] updated typedoc [`3e2ad86`](https://github.com/karmaniverous/stan-cli/commit/3e2ad867fefae28e3684e06079e863d9831f9fb3)
- [10] Update dev plan after green lint/test [`4904171`](https://github.com/karmaniverous/stan-cli/commit/49041714169d2ab7bb9e577826834d7399c87325)
- [10] docs(typedoc): export ScriptObject type [`28a09ca`](https://github.com/karmaniverous/stan-cli/commit/28a09ca14649b89e036aa461de3814a265192d51)

#### [0.11.7](https://github.com/karmaniverous/stan-cli/compare/0.11.6...0.11.7)

> 27 November 2025

- snap: apply facet overlay to baseline snapshot; add regression test and docs [`26f9c6a`](https://github.com/karmaniverous/stan-cli/commit/26f9c6ab49a971b2d95d08889d1509c63f376499)
- updated docs [`94264a7`](https://github.com/karmaniverous/stan-cli/commit/94264a75b4808e125bbedb98d8465123c6891a88)
- test(snap): replace FS-bound overlay baseline test with pure contract verification [`5edc593`](https://github.com/karmaniverous/stan-cli/commit/5edc59345b5e7ac47c52822aaa669323762a44c8)
- updated docs [`2f6096a`](https://github.com/karmaniverous/stan-cli/commit/2f6096ab144427756f0afcb55be24199ac6d8f58)
- chore: release v0.11.7 [`170132e`](https://github.com/karmaniverous/stan-cli/commit/170132e6f55936592f34241182b7df23a3a9e1ae)
- fix(test): satisfy require-await and TS in snap overlay snapshot test [`f61a2f6`](https://github.com/karmaniverous/stan-cli/commit/f61a2f6e1aaa979b96c530d9ce4903497a36edc2)
- snap: ensure diff dir exists before writing snapshot; fix ENOENT on fresh repos [`4949271`](https://github.com/karmaniverous/stan-cli/commit/49492713a4d77a8928c4acfe4cc150d5e079325f)

#### [0.11.6](https://github.com/karmaniverous/stan-cli/compare/0.11.5...0.11.6)

> 19 November 2025

- chore(run/imports): clear entire &lt;stanPath&gt;/imports before staging; keep core per‑label clearing [`64acd10`](https://github.com/karmaniverous/stan-cli/commit/64acd103e060656cb02af4cc9c33dc35babb1725)
- chore: release v0.11.6 [`9a7fedd`](https://github.com/karmaniverous/stan-cli/commit/9a7feddb574f720c0abc1e9bc6510fdf1b0f5eea)
- chore(lint): fix stage-imports test lint errors [`f81aedb`](https://github.com/karmaniverous/stan-cli/commit/f81aedb026b0800ecf56d4c84b6d7b4e4d138e95)

#### [0.11.5](https://github.com/karmaniverous/stan-cli/compare/0.11.4...0.11.5)

> 10 November 2025

- chore: release v0.11.5 [`571e54a`](https://github.com/karmaniverous/stan-cli/commit/571e54af692c3ecdf58724cb9e71e4d7c409814b)
- test(init): add first-run namespaced config tests [`bd6c762`](https://github.com/karmaniverous/stan-cli/commit/bd6c76229e765656ff270169b40bf91c9d466944)
- init: write namespaced config on first run (no second-run migration) [`5e66029`](https://github.com/karmaniverous/stan-cli/commit/5e6602915be839fa7eaa45d37cc106c0ee1bc4d5)
- updated stan [`af80255`](https://github.com/karmaniverous/stan-cli/commit/af80255a799443bd397e973c723b4e1910893917)

#### [0.11.4](https://github.com/karmaniverous/stan-cli/compare/0.11.3...0.11.4)

> 5 November 2025

- updated stan core [`fde7e3f`](https://github.com/karmaniverous/stan-cli/commit/fde7e3fafcfd4420127650c55a17d435105b2f1f)
- chore: release v0.11.4 [`eedc852`](https://github.com/karmaniverous/stan-cli/commit/eedc85215c433b15f7311be9c7e4725adc4fedd0)

#### [0.11.3](https://github.com/karmaniverous/stan-cli/compare/0.11.2...0.11.3)

> 4 November 2025

- updated docs [`2adb0a9`](https://github.com/karmaniverous/stan-cli/commit/2adb0a9f1ec496f23fdc02ae58102353e21101be)
- chore: release v0.11.3 [`5a1b97a`](https://github.com/karmaniverous/stan-cli/commit/5a1b97afdea54dc49f7b83e5decc8a07b0fefae4)
- fix: suppress unchanged system prompt in diffs by persisting prompt baseline [`1e815a5`](https://github.com/karmaniverous/stan-cli/commit/1e815a56354e4ae07b9075e125fe77ae818045ab)
- fix: suppress spurious diff deletion of stan.system.md after snap [`e433931`](https://github.com/karmaniverous/stan-cli/commit/e4339310efa7f4215eeb8bdbb7882ca81c6c6017)
- updated docs [`f338a9e`](https://github.com/karmaniverous/stan-cli/commit/f338a9e8cd7633d5f770bbce8f2198b34769797c)
- fix: normalize imports map for stageImports [`1327dc9`](https://github.com/karmaniverous/stan-cli/commit/1327dc9e8b0b4c8d04a955a5f3f0bae183245dd3)
- fix(run-archive): suppress system prompt in DIFF when unchanged (local + ephemeral) [`0d034c1`](https://github.com/karmaniverous/stan-cli/commit/0d034c1e2c3be68cbd5569241cee477fb4eb1a56)
- updated stan [`a5b8e37`](https://github.com/karmaniverous/stan-cli/commit/a5b8e3747ecaaaf4d83dc5083b2bd65aae581085)
- fix(diff): suppress system prompt when baseline is unknown [`25def7f`](https://github.com/karmaniverous/stan-cli/commit/25def7f181d0add31327050e962ab2ada1bdd7ef)
- updated docs [`1974e38`](https://github.com/karmaniverous/stan-cli/commit/1974e385c279b80ff780717b2bce4fc7c88a4721)

#### [0.11.2](https://github.com/karmaniverous/stan-cli/compare/0.11.1...0.11.2)

> 3 November 2025

- removed skipped tests [`f30eb6b`](https://github.com/karmaniverous/stan-cli/commit/f30eb6bbf2dd34849c9a62c7b98c3cf9bd2e1d67)
- decompose(run): split cli/run/action.ts into small modules; fix SSR resolvers [`f43f37a`](https://github.com/karmaniverous/stan-cli/commit/f43f37af2a23cb30dd030c1b22672d2c43301bd6)
- refactor(run-session): decompose monolith into cohesive helpers [`6d36d4a`](https://github.com/karmaniverous/stan-cli/commit/6d36d4a0525ff8fc7cf6bca46b0e1d10b3933d33)
- refactor(run/session): decompose archive-stage into focused modules [`2757405`](https://github.com/karmaniverous/stan-cli/commit/27574051e70a1dfdc81045baeb5de0f98e00065f)
- refactor(cli): decompose snap CLI into small modules [`d931911`](https://github.com/karmaniverous/stan-cli/commit/d9319119d7d79093c651a8587ab3fe580ec4ed4f)
- chore: DRY archive stage, centralize raw config fallback, and unify SSR resolvers [`4564809`](https://github.com/karmaniverous/stan-cli/commit/4564809679e9b95e809cbd6486529412ae907b3b)
- chore(cli): decompose root CLI and fix overlay resolver typing [`dc86e63`](https://github.com/karmaniverous/stan-cli/commit/dc86e63e0933e50f0cb962f9facc8730925c3b2f)
- chore(cli): static import sweep; drop dynamic resolvers and test shims [`af903a4`](https://github.com/karmaniverous/stan-cli/commit/af903a403092fe32427a9319f0dfe4ab12a4dc42)
- refactor(run-session): decompose orchestrator into small step helpers [`31a592a`](https://github.com/karmaniverous/stan-cli/commit/31a592a3738fb64a60aa5addc497b4a46a778953)
- chore(cli/run): decompose run action and fix typed overlay loader [`b0554e5`](https://github.com/karmaniverous/stan-cli/commit/b0554e5562627ebe25d396882771d9ebf20ff814)
- fix(snap): robust capture resolver; prefer configured history path [`0da2b45`](https://github.com/karmaniverous/stan-cli/commit/0da2b45f0377c4835deb353f970afe170a06dd82)
- chore: release v0.11.2 [`db154fc`](https://github.com/karmaniverous/stan-cli/commit/db154fc456405ec0afe02aac7b5922cf1bd384da)
- chore(cli): decompose patch command into small modules; fix statusOk logging [`60e1783`](https://github.com/karmaniverous/stan-cli/commit/60e1783c7ce76f9285b03cdb9aab3bbac21d602c)
- chore: remove test-only fallthroughs; staticize run registrars; drop flaky jsdiff test [`2eec8a4`](https://github.com/karmaniverous/stan-cli/commit/2eec8a47c2741e8ebbf66144b106fd328c2521c9)
- fix(cli): stabilize snap action resolver and patch jsdiff fallback (tests green) [`f47fc4d`](https://github.com/karmaniverous/stan-cli/commit/f47fc4d6b12b34577167f1234d001db61cc4031b)
- chore: remove legacy patch monolith and tighten lint in decomposed modules [`b9ebfe5`](https://github.com/karmaniverous/stan-cli/commit/b9ebfe566022910a635faee63a5c1a9a2741a34e)
- chore: CLI static imports + test stability; remove dead code [`2b93296`](https://github.com/karmaniverous/stan-cli/commit/2b93296d11d802fd11607c6a59b485be34a29450)
- fix(snap+cli): 0‑based snap set semantics; Commander parse fallback in patch [`e321aad`](https://github.com/karmaniverous/stan-cli/commit/e321aadd5c403cb986c0242dc2d58e12b3fc65ec)
- chore: DRY commander safety and defaults; reuse loop guard; minor overlay DRY [`de3af28`](https://github.com/karmaniverous/stan-cli/commit/de3af28c9af84ad8a08819f6a6e7371ee6f5d2f3)
- refactor(derive): decompose run derive into small modules with stable path [`e17a630`](https://github.com/karmaniverous/stan-cli/commit/e17a630112e46fbed49f318d60546c1c8e2a092b)
- fix(snap): make set navigation 0‑based; remove off‑by‑one [`e10a75b`](https://github.com/karmaniverous/stan-cli/commit/e10a75bbb3010c4015c7e18e203a2f2a9b57a934)
- chore(eslint): migrate to strict TS flat config [`201922c`](https://github.com/karmaniverous/stan-cli/commit/201922c2b270188a7574ea1487daf15e90db0e8e)
- fix(cli): sync root env defaults fallback; run registration default; snap stanPath guard [`9381d96`](https://github.com/karmaniverous/stan-cli/commit/9381d96fdc081f9974343e6cedf327c89b797a96)
- fix: snap history 0‑based set; patch CLI SSR export; lint‑safe argv [`daeaf2b`](https://github.com/karmaniverous/stan-cli/commit/daeaf2bb0b486239e4937522e218fad0eda8ba50)
- fix(cli): resolve TS error in loaders and harden cancel cleanup [`565ed58`](https://github.com/karmaniverous/stan-cli/commit/565ed586712499254b7970708a111bb66594b480)
- fix(run/cancel): abort archive stage on cancellation; stabilize defaults tests [`1f3dc38`](https://github.com/karmaniverous/stan-cli/commit/1f3dc385eec2cdb7c3a7c47affc5687180124421)
- chore(cli): remove test-only shims; enforce static named imports [`9e8ffcf`](https://github.com/karmaniverous/stan-cli/commit/9e8ffcfa33bbf95a7b6188e4d60d31e7d2aecc98)
- fix: snap capture args and logger sink SSR instantiation; remove top-level await [`8b288e8`](https://github.com/karmaniverous/stan-cli/commit/8b288e87a6628cdb789a66f1bcea1bbc7eeea127)
- refactor(lint): clear optional-chaining/?? lint across run control & session; harden archive resolvers [`61ea2ec`](https://github.com/karmaniverous/stan-cli/commit/61ea2ec9c4a7f372e701197a09d687f1a729a6ac)
- test: add derive resolver and naked -f overlay tests [`0ef3490`](https://github.com/karmaniverous/stan-cli/commit/0ef3490a97f05fd6dd3a70d7cabff268cb9ffd41)
- chore(lint): resolve remaining lint (snap-run guard, test misused-spread) [`54e929b`](https://github.com/karmaniverous/stan-cli/commit/54e929bc6685d77ac5b28f44902243ec45693831)
- chore: DRY string helpers; remove util; guard run action config load [`c80b02a`](https://github.com/karmaniverous/stan-cli/commit/c80b02a4490d57b4a823b32e569d248f2798b099)
- chore(todo): record derive follow‑through and run semantics priorities; keep lint next [`5de2596`](https://github.com/karmaniverous/stan-cli/commit/5de2596dd76147b002b386b1bc7620d57ad5420b)
- fix(snap): SSR-resolve captureSnapshotAndArchives in snap-run [`990b755`](https://github.com/karmaniverous/stan-cli/commit/990b75562ff016acc08da103ef61099df85fdc69)
- fix(overlay): honor inactive facet drops by expanding roots to globs and propagating leaf-glob excludes [`ca1a0b0`](https://github.com/karmaniverous/stan-cli/commit/ca1a0b0520e612e8bed6f758765cdfef9affd9fa)
- chore(lint): fix strict TS rules, SSR resolver; wrap numeric templates; remove wrappers [`c68dd96`](https://github.com/karmaniverous/stan-cli/commit/c68dd968e566c2ba3ad6de23fac07f09e163ef8b)
- fix(snap,run): align CLI history with shared SnapState; keep archives when prompt missing [`03b6c56`](https://github.com/karmaniverous/stan-cli/commit/03b6c5656a706d73777a6cc126dc57cb60f58dd8)
- chore: harden SSR interop for run args and logger sink; fix derive crash [`ebe77ba`](https://github.com/karmaniverous/stan-cli/commit/ebe77ba74e1b37bd8ecb8ff45d14389dfa27bcc1)
- fix(cli): unblock typecheck and lint in enabled facets [`87fc0c2`](https://github.com/karmaniverous/stan-cli/commit/87fc0c2215eb05bf6a00014b01154f92203d1462)
- fix(cli/run): hoist deriveRunParameters to declaration (SSR stability) [`28ef19e`](https://github.com/karmaniverous/stan-cli/commit/28ef19efe7c80aeb5ec1b06b48c35f5a2e2a6337)
- patch: fix tests — patch status, snap set, archive path, plan fallback [`1132418`](https://github.com/karmaniverous/stan-cli/commit/1132418577dd0bf2ae0de574254ff9b5ecbff9a5)
- fix(run): late-cancel guard for archives; two-pass cleanup; stabilize parity on Windows [`a86aa3c`](https://github.com/karmaniverous/stan-cli/commit/a86aa3c703277b1693145c5654fa41b952e7a324)
- fix(cli/run): SSR-safe derive resolution + test parse repair; small lint sweep [`a51ec88`](https://github.com/karmaniverous/stan-cli/commit/a51ec88f15de8102e30aec13f3ad971f415c454b)
- fix(run): SSR-robust run defaults + tighten local safety shim [`4d511e6`](https://github.com/karmaniverous/stan-cli/commit/4d511e6e6eae49bbfff5f31539f0d9300b4a30a1)
- fix(run,snap): SSR-safe engine-config resolver; unconditional CLI safety for snap [`ee749dc`](https://github.com/karmaniverous/stan-cli/commit/ee749dc80e65e4084ddc64b33df95b2ae96f8cc9)
- patch: fix tests — patch status, snap set, archive path, plan fallback [`43ee714`](https://github.com/karmaniverous/stan-cli/commit/43ee714bc278a5bfd27ea33d177c42ad3632819f)
- fix(run): SSR‑robust overlay loader; harden cancel pre‑archive [`82da72a`](https://github.com/karmaniverous/stan-cli/commit/82da72a4dd6db334ad1a931baf23c65de214b763)
- fix(snap): harden CLI handler resolver; remove unused import in history [`df1b944`](https://github.com/karmaniverous/stan-cli/commit/df1b944a1dbad4df6c348eb0c94e497e9362d566)
- test(patch): ensure single “patch source” log and failure tail; fix tsdoc warn [`c8c9502`](https://github.com/karmaniverous/stan-cli/commit/c8c9502aefc1359646bf4a86f94f16f9b8370a47)
- feat(facets): reconfigure for modular focus and targeted debugging [`68f4827`](https://github.com/karmaniverous/stan-cli/commit/68f48275cfef088b967f846975bf2c543364b947)
- chore: anchor facet.state.json in full archives; set run-only defaults [`e02442e`](https://github.com/karmaniverous/stan-cli/commit/e02442e5abd2087bcc525a826a4064876608d42c)
- chore: fix patch default-file resolution and clean registrar [`88bc84e`](https://github.com/karmaniverous/stan-cli/commit/88bc84e43c2f4255baafdb4ba8a118c18362d486)
- lint: tighten nullish/optional guards and fix TS2322 in overlay resolver [`979f865`](https://github.com/karmaniverous/stan-cli/commit/979f865f8e6011bff82f12cda95473d156a3c340)
- chore(lint,typecheck): fix TS2554 in snap defaults test; remove unused import; drop Boolean wrapper [`be68535`](https://github.com/karmaniverous/stan-cli/commit/be68535091c1dc6f287cec512b0f4d48251d13c6)
- chore: lint cleanup (runner opts/types, guards, and plan) [`0ce5b68`](https://github.com/karmaniverous/stan-cli/commit/0ce5b68b064db9b1264c7c350de133d179e48375)
- fix(overlay): expand inactive roots to globs at CLI and keep overlay contract stable; add leaf‑glob excludes at engine boundary [`d8c6507`](https://github.com/karmaniverous/stan-cli/commit/d8c6507b148f589c1e4dd31c0663310840852a5a)
- fix(snap): harden handler resolver and probe history path; fix TS2322 [`31816aa`](https://github.com/karmaniverous/stan-cli/commit/31816aa2ebd2a73faf7aa975d89ec87fcc974860)
- chore: lint sweep (part 1) — narrow argv, drop unused helper, clean optional chain [`156d21d`](https://github.com/karmaniverous/stan-cli/commit/156d21dfcc5a763d25ee8212dae015c909e88210)
- fix: SSR-safe resolution for run subcommand wiring (registerRun*) [`05564ae`](https://github.com/karmaniverous/stan-cli/commit/05564ae1a11cc6e75782e9b40761e9a2bf887f1c)
- skipped tests [`cd4b9b6`](https://github.com/karmaniverous/stan-cli/commit/cd4b9b63bc8c82adc4a151ed7b2e1e79e7de4173)
- test: fix derive resolver SSR mocks and naked -f overlay assertion [`f30d08f`](https://github.com/karmaniverous/stan-cli/commit/f30d08fe4751817dd5bad17fd791d60093329d8e)
- fix(snap): write snapshot before capture; normalize legacy 1‑based history index [`766e68e`](https://github.com/karmaniverous/stan-cli/commit/766e68ede71fb15ad4359ff401014b37fc7492d8)
- feat(overlay): ensure enabled facets win over inactive subtree excludes for leaf-globs [`06aa385`](https://github.com/karmaniverous/stan-cli/commit/06aa3855a80c505813d8280f550a9827df8283a5)
- fix(cli,snap): harden resolvers; probe history path broadly for tests [`a4ea09d`](https://github.com/karmaniverous/stan-cli/commit/a4ea09d0dd4f769a1fbc532bf502897667fb80c5)
- fix(run): eliminate residual archives on cancel; harden late-cancel cleanup [`f0d4c3c`](https://github.com/karmaniverous/stan-cli/commit/f0d4c3ceb6f218b0b24bb8fc7f7c8aed939dbce6)
- fix: snap handler SSR fallback, late-cancel archive guard, live default honors cliDefaults [`3733fcc`](https://github.com/karmaniverous/stan-cli/commit/3733fcccaf1bab59770fece976844eebde5401c4)
- fix(run): plan-only when defaults select no scripts and archive is disabled; stabilize defaults tests [`96c69f5`](https://github.com/karmaniverous/stan-cli/commit/96c69f5a56cb93bc7b9f45ebda17b6888cd6e83f)
- fix(snap): gate snapshot on successful stash; always use configured history path [`aa649ec`](https://github.com/karmaniverous/stan-cli/commit/aa649ec7f496bf62595795d46e4395b446bee6f5)
- chore: print “snapshot updated” after `stan snap` [`52adf7d`](https://github.com/karmaniverous/stan-cli/commit/52adf7d52099046fbec04c37c81bce2a3e034471)
- chore: lint sweep (part 1) — remove unnecessary optionals; type-safe shim [`381cb9f`](https://github.com/karmaniverous/stan-cli/commit/381cb9f3e5877ad4bfb9fd3600cf2954169112c3)
- wip [`a8710cd`](https://github.com/karmaniverous/stan-cli/commit/a8710cd98045345bf1767d7e8b8d2117837fe11b)
- chore(lint): small cleanup in action loaders/overlay and snap SSR fallback [`32bd069`](https://github.com/karmaniverous/stan-cli/commit/32bd069f366b6fa482c8464bb685c11b1e6c0134)
- fix: hoist guard exports to stabilize SSR imports [`78b1792`](https://github.com/karmaniverous/stan-cli/commit/78b1792926eff9ab89c5f492cd1a0dfc2f0b0264)
- fix(cli): static snap action import; test pool forks; lint/ts fixes [`d2c7458`](https://github.com/karmaniverous/stan-cli/commit/d2c7458d63a62f622a4a37dc67a0f818cc1fa2f5)
- chore: stabilize live/UI, overlay defaults, and init loader; harden cancel cleanup [`b2d61ae`](https://github.com/karmaniverous/stan-cli/commit/b2d61aef85677130024161e7b140fb6e3915394a)
- fix: live hint, cancel cleanup, and SSR fallback [`27f03fe`](https://github.com/karmaniverous/stan-cli/commit/27f03feea55fbd79d6f687a0162d398a8befe03c)
- fix: export snap history handlers; keep 0‑based semantics [`d0089d2`](https://github.com/karmaniverous/stan-cli/commit/d0089d23fad2d6f65a259d1211c9ee0e10fc0304)
- fix(cli): preserve STAN_DEBUG=1 env and stabilize overlay engine mapping test; clean up glob checks [`55da954`](https://github.com/karmaniverous/stan-cli/commit/55da954096ced9ac548e65b2327d266dfd0d20b2)
- fix: print correct header for `stan snap` and record last=snap [`fb6df10`](https://github.com/karmaniverous/stan-cli/commit/fb6df10a35f906b7d1e81f3f91bff7e889d21ef1)
- chore(run,config,tests): fix visible typecheck/lint issues on enabled facets [`c53a6d3`](https://github.com/karmaniverous/stan-cli/commit/c53a6d345753f20e4b0c96d5abf998060576c655)
- chore(lint): fix remaining snap+patch facet lint errors; append dev plan [`c9ffd95`](https://github.com/karmaniverous/stan-cli/commit/c9ffd958a091bdf4b185b6d90c5e7e7d760a24b3)
- refactor(cli): finalize snap decomposition; fix SSR/mocks guard and lint [`8ae9a1e`](https://github.com/karmaniverous/stan-cli/commit/8ae9a1eb4ef4c1bdcfe6d091ea67d1340e38fb6c)
- fix(run/overlay): remove missing loader shim; use static import and types [`118627e`](https://github.com/karmaniverous/stan-cli/commit/118627e5e5e99381a8196eee18210233ffae40a7)
- fix(snap): SSR‑robust resolution for registerSnapAction; tighten argv normalizer types [`ff29804`](https://github.com/karmaniverous/stan-cli/commit/ff29804ca7b8c0599399f7eca8b0433ce0416456)
- fix(cancel): guarantee no archives after cancel; stabilize CLI defaults tests [`59ef786`](https://github.com/karmaniverous/stan-cli/commit/59ef78643d2e550b4a81f65aff68e07f6ebd7a49)
- fix: enable snap facet; stabilize CLI runner combine tests; lint-safe patch argv [`771946a`](https://github.com/karmaniverous/stan-cli/commit/771946a8cab82d42fe8df63e5d1cf2c5e6a7572d)
- fix(diff): exclude anchors from DIFF creation to avoid unchanged files in archive.diff.tar [`f43171a`](https://github.com/karmaniverous/stan-cli/commit/f43171a484299b06d9186adc926260fb5fe210e1)
- fix(run): ensure archives are removed on cancel; print at-least-one live frame [`9647fae`](https://github.com/karmaniverous/stan-cli/commit/9647fae386e0e685ffe19d7b45893b7f1d87b1c4)
- fix(run): make derive loader SSR-robust; restore run semantics tests [`536123c`](https://github.com/karmaniverous/stan-cli/commit/536123cf4f652dab7e6adf57d3d5fa9931028b43)
- fix: live hint frame + cancel settle for keypress+archive [`c5f7759`](https://github.com/karmaniverous/stan-cli/commit/c5f7759d31d6631ce95d854291976e418c112557)
- fix: deriveRunInvocation SSR resolution; snap history path chooser [`0eb3e14`](https://github.com/karmaniverous/stan-cli/commit/0eb3e147fc26253c526cdc665fc8d7047936f078)
- fix: SSR-safe resolver for renderRunPlan; guard when helper shape differs [`864e298`](https://github.com/karmaniverous/stan-cli/commit/864e2986368031fd388bcbe30d1a74500eb91358)
- fix(cli): stabilize SSR exports for snap/patch; fallback handleSnap, default export [`eda9978`](https://github.com/karmaniverous/stan-cli/commit/eda9978c898067935244824573d74c5fdc22575f)
- chore(lint): first sweep — help nullish cleanup, test fixes, typed inquirer mocks [`2419ac4`](https://github.com/karmaniverous/stan-cli/commit/2419ac44b2b68a476a97b155098113ad9100d6cc)
- chore: remove test-only fallbacks (namespaced test config, drop default shims) [`c203c70`](https://github.com/karmaniverous/stan-cli/commit/c203c7048a67553266c504eb5419b3cf2c369b7a)
- refactor(lint): clear remaining lint in enabled facets (config/run/run‑ui) [`670a110`](https://github.com/karmaniverous/stan-cli/commit/670a11065c784d79e7aed2966469fe5776dffc3f)
- chore(todo): add Next up items for strict typed ESLint remediation [`6d5597b`](https://github.com/karmaniverous/stan-cli/commit/6d5597bc4ad55f0bad146ff8c2508cdc0ca3ae74)
- fix(snap): set index writes to latest existing history file [`4651d08`](https://github.com/karmaniverous/stan-cli/commit/4651d084e2bd4a5524553c99c6521e0b5e530c43)
- test(core interop): fix combine tests with SSR-safe core API resolution; lint cleanup [`01312d0`](https://github.com/karmaniverous/stan-cli/commit/01312d011c500ce8f4332cc8864f4a6a40bd45ee)
- fix(cli/run): root CLI safety + late-cancel archive cleanup [`0e008d7`](https://github.com/karmaniverous/stan-cli/commit/0e008d79ce6ba603e766172244f8320442dcc79e)
- fix(cli): SSR fallback for registerPatch; snap stash logs and numeric set index [`11ebde2`](https://github.com/karmaniverous/stan-cli/commit/11ebde2ab48ade7cbcc416f8640f5338abe75b68)
- overlay: refine facets — split “run” into exec/session/archive; add overlay/prompt; adjust defaults [`a9f1e5b`](https://github.com/karmaniverous/stan-cli/commit/a9f1e5bff4a9e7bb7ab5f880f272ce8c31d16103)
- fix(init,snap): default export shim for registerInit; safer path join in snap shared [`431708b`](https://github.com/karmaniverous/stan-cli/commit/431708b7c14e9c9d51ecc10533eec634ac8638b4)
- fix: stabilize plan header and pre-queue under SSR [`0f885cc`](https://github.com/karmaniverous/stan-cli/commit/0f885ccfe33b128fb8dbe74570f2e0d8fb98c8e2)
- chore(lint,facets): clean run-ui; enable overlay+snap for next lint sweep [`489b470`](https://github.com/karmaniverous/stan-cli/commit/489b470382922648268cea00da8fb352bdee1f21)
- fix: lint in cli-utils (TSDoc and optional chain) [`ed970f8`](https://github.com/karmaniverous/stan-cli/commit/ed970f8c37a7a225bd763749aa6e615234079da4)
- testfix(patch,live): include DEFAULT path in -f help; force final live flush [`1fd6ed1`](https://github.com/karmaniverous/stan-cli/commit/1fd6ed1495bd0ff0856ec9d3cda40f221ee0e999)
- fix: SSR-safe resolution for runSessionOnce in service runner [`e3358e0`](https://github.com/karmaniverous/stan-cli/commit/e3358e0d7fc5eeb7bfd8bdfe1b675a27ee3ee113)
- fix(run): always attach non‑TTY keypress fallback to honor cancel [`e36941c`](https://github.com/karmaniverous/stan-cli/commit/e36941c87459c2eadf0258c8a03e6ea33c24884f)
- fix(cli): stabilize deriveRunInvocation import shape for SSR; lint fix in index [`d3a7234`](https://github.com/karmaniverous/stan-cli/commit/d3a7234729c29a4bd449c8cbcb55a2c1889f9494)
- fix(snap): robust numeric parse for `snap set` and ESLint dynamic-delete guard [`b49e1dd`](https://github.com/karmaniverous/stan-cli/commit/b49e1dd5ee5f062f3d9b81d25ebd375e00678968)
- chore: lint sweep (phase 1) — remove dynamic delete and trivial conversions [`963c037`](https://github.com/karmaniverous/stan-cli/commit/963c037ab1723fcb54179c9cefebf537dd184699)
- chore(lint:init): remove redundant truthiness checks on resolved functions [`7c09a4f`](https://github.com/karmaniverous/stan-cli/commit/7c09a4fa98b215ba4d24e65715b5cd0619439b2e)
- fix(lint): resolve typescript-eslint errors [`9fa79ff`](https://github.com/karmaniverous/stan-cli/commit/9fa79ff2ac141fab33ecc3864f27d050410c8b98)
- chore(lint:overlay): replace optional-chaining with explicit narrowing in facets [`b7a627f`](https://github.com/karmaniverous/stan-cli/commit/b7a627fff354673222b2e03f4ead2b2cf535412b)
- chore(lint:init): remove unnecessary coalescing/casts with explicit narrowing [`9871026`](https://github.com/karmaniverous/stan-cli/commit/9871026df9443eaaa81a21768b5a656f84bf4fbf)
- fix: add default exports for derive and snap; clean snap-run lint [`203d66b`](https://github.com/karmaniverous/stan-cli/commit/203d66b60b0c09c32313f73c32357fe8b04c4493)
- chore(types): finalize Commander argv augmentation [`4b3b5f0`](https://github.com/karmaniverous/stan-cli/commit/4b3b5f065c42a9146bd4daacbb05df6c826a1e21)
- fix: revert immediate live frame; correct UI init; keep cancel settle [`393b5bf`](https://github.com/karmaniverous/stan-cli/commit/393b5bf1dbf1d34811edadcf0aaccf11fd949765)
- test(overlay): include facet.state anchor in expectations; narrow facet defaults [`f9776fb`](https://github.com/karmaniverous/stan-cli/commit/f9776fbea8b48a82220fa7d007236534dfa14eab)
- fix(run): honor cliDefaults.run.live when CLI flag omitted [`9a396e8`](https://github.com/karmaniverous/stan-cli/commit/9a396e89fcffbdc97eb21c73ffb84cab08bce5d2)
- refactor(cli): remove remaining default-export shims; keep named exports only [`d0240bc`](https://github.com/karmaniverous/stan-cli/commit/d0240bcafe4c5b84dc1fb93c3fe94fb991c4cce2)
- chore(lint): remove unused imports; tame valid-title in cancel matrix [`6666b54`](https://github.com/karmaniverous/stan-cli/commit/6666b5441b806f49031afe410727c33a15912c7a)
- fix(patch): log source once; include target on unified‑diff failure [`9ed4c26`](https://github.com/karmaniverous/stan-cli/commit/9ed4c26271a070846a7d1c4c1c52dd7c98ced589)
- fix(run): ensure final live frame flush and remove unused import [`6152489`](https://github.com/karmaniverous/stan-cli/commit/61524897f367e9c17070f2eea1c9938a71df93fc)
- fix(overlay): map subtree roots/leaf‑globs when facet overrides present [`12d1ea2`](https://github.com/karmaniverous/stan-cli/commit/12d1ea25b6fe6f0d7bd7667668c14440e32d1616)
- fix(cli-utils): restore getOptionSource export; unblock snap/overlay paths [`7d339a3`](https://github.com/karmaniverous/stan-cli/commit/7d339a32ec4830bc88fdea8c73d8a688023c7676)
- chore: refresh plan from handoff and record maintenance [`c3c8766`](https://github.com/karmaniverous/stan-cli/commit/c3c8766ea0ad5a506359933af85ded00d45ca0f8)
- fix(live): settle before final flush; clean up derive.ts ESM + lint [`c870bef`](https://github.com/karmaniverous/stan-cli/commit/c870befebdd7d8bb58e6d557fa0d8f6131071664)
- fix(run): stabilize UI parity by settling after archive creation [`181bc90`](https://github.com/karmaniverous/stan-cli/commit/181bc90a490f869882d8d62acb5dc53a1039b787)
- fix(types): point declarations to dist/types/index.d.ts [`0a92665`](https://github.com/karmaniverous/stan-cli/commit/0a9266537f415add19fba13149befbeec92a3b9f)
- chore(lint): initial sweep — Boolean conversions, require‑await, and unused imports [`3a1025d`](https://github.com/karmaniverous/stan-cli/commit/3a1025d72a7af211db3c5bcd0c931d71595095a7)
- fix: harden run registration and env defaults under SSR/mocks [`d4f7ddd`](https://github.com/karmaniverous/stan-cli/commit/d4f7ddd9383355628f7fd55ca9ea1d453a19c669)
- chore(lint): fix require‑await in snap defaults test; drop redundant Boolean() [`0a5699f`](https://github.com/karmaniverous/stan-cli/commit/0a5699f21b28f77cc120f3c471f5862b8ddb24b4)
- chore: fix runner.test import shape; clear easy strict-typed lint in tests [`2febf11`](https://github.com/karmaniverous/stan-cli/commit/2febf11e6505e96cbe1a395ee15c740bd38d1a17)
- fix(run): default archive=false when scripts=false in cliDefaults [`c4d263e`](https://github.com/karmaniverous/stan-cli/commit/c4d263ee4b4fb66a2f31a5d24021f637eeb952dc)
- testfix(patch): make default export spread‑friendly for SSR mocks [`af4d48d`](https://github.com/karmaniverous/stan-cli/commit/af4d48d8d2da36cd5566921e707e8170c0bc6d62)
- chore: fix typecheck for new ESLint TS config [`a62e0a6`](https://github.com/karmaniverous/stan-cli/commit/a62e0a6b4017897d8678d84a848560fa9662b00a)
- chore(run-session): finalize decomposition fixes (deps wiring + lint-safe fs) [`68c1e5d`](https://github.com/karmaniverous/stan-cli/commit/68c1e5d894cb6e31537032eed44bbe5fb4d6d903)
- fix(snap): prefer "out" when resolving history path to align CLI set/get [`6ad62ab`](https://github.com/karmaniverous/stan-cli/commit/6ad62abf3d5b27da75737836aef6eac2aa48d52e)
- fix(snap): coerce persisted index in readState; keep 0-based normalization [`3d346fb`](https://github.com/karmaniverous/stan-cli/commit/3d346fbd10040d6b9ac56a57211600094eba61c4)
- wip [`c182d9f`](https://github.com/karmaniverous/stan-cli/commit/c182d9f304706c5dce1b852babda156cc30398bc)
- fix(derive): correct relative imports after decomposition [`ed9f046`](https://github.com/karmaniverous/stan-cli/commit/ed9f046cf7bdf999eb973ef8835f8036ffa3e45d)
- chore(config): filter known benign Rollup warnings while preserving others [`082b335`](https://github.com/karmaniverous/stan-cli/commit/082b33524b61738a982e421062e1c9bdd8bb45f9)
- fix(run): default-shaped export for loaders to satisfy SSR defaults tests [`339076b`](https://github.com/karmaniverous/stan-cli/commit/339076b7af03e264d33b95f8c473161a4aecd6a4)
- fix(snap): hoist registerSnap to function declaration for SSR robustness [`d9de50b`](https://github.com/karmaniverous/stan-cli/commit/d9de50bcf035451d540323591afa90c15afc3b66)
- chore(lint): remove redundant “?? undefined” in derive loader [`463e4be`](https://github.com/karmaniverous/stan-cli/commit/463e4bee3e931d10f1b1ac4b35baf7ce550f72c8)
- docs(project): forbid default+named export duplication (SSR policy) [`d36dab1`](https://github.com/karmaniverous/stan-cli/commit/d36dab18afce331d07adf9f9fb45377555642011)
- chore(facets): enable patch + keep snap; disable overlay for next lint sweep [`a4ba0d3`](https://github.com/karmaniverous/stan-cli/commit/a4ba0d37035b7b70de92dec65d59b9f4796ec1c3)
- chore(lint): remove unnecessary nullish coalescing in derive [`661287e`](https://github.com/karmaniverous/stan-cli/commit/661287efaa1531929ef898c38e8469d30088fab7)
- fix(snap): pass raw string to history handleSet to match expected navigation [`03c034f`](https://github.com/karmaniverous/stan-cli/commit/03c034f4204c5f21e907631774446fa25b676eb8)
- fix(test): import writeFile and drop unused rm in snap stash success test [`1af39fa`](https://github.com/karmaniverous/stan-cli/commit/1af39fa15cfa84b994443d6cdb942e4113eb5889)
- chore(lint): remove unnecessary async in tests (require‑await) [`10db931`](https://github.com/karmaniverous/stan-cli/commit/10db93106b7207d2d534fd7e3a46cdb6f739daa7)
- fix(cli/run): add missing FlagPresence import to restore typecheck [`cab107c`](https://github.com/karmaniverous/stan-cli/commit/cab107cbe84e58f591aad53247003d9d7fbba12b)
- chore(facets): enable run-exec for cancel/keypress triage [`a76a8a3`](https://github.com/karmaniverous/stan-cli/commit/a76a8a3bf06660c929766b5335e4e100e828a24c)
- chore(facets): disable snap facet to shrink archives; focus live/cancel [`cb2235c`](https://github.com/karmaniverous/stan-cli/commit/cb2235c3d530f88ad94666de393c110bfb0180f6)
- chore(facets): enable live-ui facet for live UI test triage [`56669a0`](https://github.com/karmaniverous/stan-cli/commit/56669a06bcb57100d44ee0d48ac184da00a0080f)
- lintfix [`d7fa25d`](https://github.com/karmaniverous/stan-cli/commit/d7fa25d9e025e8506d9bed4d774f369ca64eb3b1)

#### [0.11.1](https://github.com/karmaniverous/stan-cli/compare/0.11.0...0.11.1)

> 27 October 2025

- chore: decompose session/init orchestrators into small modules [`b316ef5`](https://github.com/karmaniverous/stan-cli/commit/b316ef5ed613f543b3dd9800b04cc66e84142102)
- chore: enable tests and live-ui facets for next run [`a0f0b50`](https://github.com/karmaniverous/stan-cli/commit/a0f0b50bf3e8ba3aaa5b3d5d24e1fb84cf2abbc7)
- fix: snap default-only resolver and sequential cancel guard [`9baa2ef`](https://github.com/karmaniverous/stan-cli/commit/9baa2ef34ef1381e870428b7f76508cf093c0a21)
- refactor: requirements (facets + testing) and todo for execution [`9368ecb`](https://github.com/karmaniverous/stan-cli/commit/9368ecbcd591ba83b87a8148522873bb52e6896e)
- fix(snap): hoist time utils to declarations for SSR stability [`9edbf36`](https://github.com/karmaniverous/stan-cli/commit/9edbf365cb26a3839df097cb5e50de9d8792582c)
- docs(testing): add SSR/ESM test‑stability playbook; prune dev plan [`b06e586`](https://github.com/karmaniverous/stan-cli/commit/b06e586be3ecf36ac5b3bd2a167b7261a54fd492)
- fix(cli): honor run.scripts defaults and legacy scripts under SSR/mocks [`117dc3a`](https://github.com/karmaniverous/stan-cli/commit/117dc3a53b493b66a911a4b8412af5a28ca54c9f)
- refactor(interop): add resolveNamedOrDefaultFunction and adopt it [`31ce4ef`](https://github.com/karmaniverous/stan-cli/commit/31ce4efc51898331df0eb1b327a5fd38429b9322)
- chore(stability): harden SSR/ESM edges and snap default-only resolver [`92f6642`](https://github.com/karmaniverous/stan-cli/commit/92f66423cd9d408936ab49ba4065342915206050)
- chore: release v0.11.1 [`f83df4a`](https://github.com/karmaniverous/stan-cli/commit/f83df4a2f31d354fcfa01a52015c6ad847f3030a)
- fix(snap,run): close default-only resolver, stash/live defaults [`7afc9be`](https://github.com/karmaniverous/stan-cli/commit/7afc9be1511ecfec60b8a25c3b09e09f25b8c61f)
- fix(cli, snap): SSR-robust defaults and action resolution; snap default-only short-circuit [`42fba71`](https://github.com/karmaniverous/stan-cli/commit/42fba718e7d6d29b62a3afd3d2eb4de7f2003f5a)
- fix(ssr): stabilize CLI parse safety and snap default-only resolution [`f6267d2`](https://github.com/karmaniverous/stan-cli/commit/f6267d221bc79fd7d725decee8149cc406e832c1)
- fix(snap): CLI parse fallback; default-only resolver fast path [`3369881`](https://github.com/karmaniverous/stan-cli/commit/336988141db62edf8c9765bbf23120de10f503d0)
- fix(cli): stabilize init wiring and snap handler imports under SSR [`3c3688b`](https://github.com/karmaniverous/stan-cli/commit/3c3688bea477885682a8b4768fbbfbbe46e8c85b)
- fix(ssr): lazy cli config load in run/action; harden snap default-only resolver [`2d140c3`](https://github.com/karmaniverous/stan-cli/commit/2d140c364cadb860d17728bfffb8fafb6162e8a1)
- feat(overlay): enabled-wins tie-breaker and scoped leaf-glob re-inclusion [`92efc8c`](https://github.com/karmaniverous/stan-cli/commit/92efc8cad00c800b73164d9a4c54a2c8c6322bfb)
- fix(cli): SSR-robust rootDefaults resolution in makeCli [`525d8db`](https://github.com/karmaniverous/stan-cli/commit/525d8db2ce66f40a8bf50eba5002634b2e5dea46)
- fix(snap): lazy engine resolver to stabilize SSR; add tests [`43ee3cf`](https://github.com/karmaniverous/stan-cli/commit/43ee3cfc908dfd56270211d333957684722b7581)
- fix(snap): make default-only resolver permissive and trace candidate [`7633265`](https://github.com/karmaniverous/stan-cli/commit/763326579300300ca2b92b63afa0d01daf639298)
- chore(test): guard SSR import shapes for run action, UI, and archive stage [`0b5962e`](https://github.com/karmaniverous/stan-cli/commit/0b5962e2855391a032fc5c26d99db40ef3357c46)
- chore: harden SSR interop for run plan and patch wiring [`d738596`](https://github.com/karmaniverous/stan-cli/commit/d7385967ec23d6ab8dd696f6fd411c88019cc843)
- fix(snap): recursive resolver discovery for default-only/mock shapes [`87b6b2b`](https://github.com/karmaniverous/stan-cli/commit/87b6b2bfb43d929bc41b79a967baddd9db0337c1)
- feat(config): add warnPatternFlags for scripts [`2b4f179`](https://github.com/karmaniverous/stan-cli/commit/2b4f179ee2585a2f8ded800967473bc56a572144)
- fix(run,snap): lazy engine resolver in run/action; snap context typing [`04eb5f8`](https://github.com/karmaniverous/stan-cli/commit/04eb5f8b05a642926eeb4ef5f5bcdd1b96dc595b)
- fix(cli): SSR-safe resolvers for init service and run options [`6e75a60`](https://github.com/karmaniverous/stan-cli/commit/6e75a600051eeeb2fa09ca84524f071a46dbe1a8)
- fix: stabilize exit hook export and guard snap default-only resolver [`b3ed067`](https://github.com/karmaniverous/stan-cli/commit/b3ed067c270b25dc0c5b24a5e84b23c049d14b44)
- fix: snap default-only resolver and sequential cancel guard [`963e4a9`](https://github.com/karmaniverous/stan-cli/commit/963e4a961366c140c84fa2a9649a75e54496966f)
- fix(snap): lazy core resolvers; fix tagDefault SSR shape [`8912ad7`](https://github.com/karmaniverous/stan-cli/commit/8912ad71d319a3e1385a1266b5cfaf3a351a4c8c)
- test(cli): stabilize jsdiff fallback test with doMock + dynamic import [`b816aaa`](https://github.com/karmaniverous/stan-cli/commit/b816aaad851496feb260e6f6cdc0921bde2d1a68)
- feat(overlay): enabled-wins tie-breaker and scoped leaf-glob re-inclusion [`29b5424`](https://github.com/karmaniverous/stan-cli/commit/29b54246d64b042a0898dd0c96441fc7af5a4a9c)
- updated docs [`9280b89`](https://github.com/karmaniverous/stan-cli/commit/9280b89f6cda8610d432f481f2be3d17e8c929a5)
- updated docs [`9b9108e`](https://github.com/karmaniverous/stan-cli/commit/9b9108ebf4f241aa25f1fcc835b956907148d605)
- fix(snap): robust default-only resolver for effective config [`366922f`](https://github.com/karmaniverous/stan-cli/commit/366922fd1ac47bf93061919ccb265bca90fb45bf)
- fix(init): hoist prompt helpers to declarations for Vitest SSR stability [`caeea18`](https://github.com/karmaniverous/stan-cli/commit/caeea18ca57f9df512beabaae78d16576d11ee24)
- fix(snap,cli): snap default-only resolver, lazy handler typing, and run help fallback [`021f833`](https://github.com/karmaniverous/stan-cli/commit/021f8339843503c77b458fb8f282c1c585cc4dc2)
- fix(snap): default-only resolver fast paths; snap CLI lazy handlers [`7592589`](https://github.com/karmaniverous/stan-cli/commit/7592589a4ed0071736d21f7956248a50bd7e23ac)
- fix: arity-aware snap resolver and SSR-safe applyCliSafety in run/options [`3121558`](https://github.com/karmaniverous/stan-cli/commit/3121558b02466a8694ce153acc753cfea8a62172)
- fix(snap): handle nested default export shapes in resolver [`94cdbe3`](https://github.com/karmaniverous/stan-cli/commit/94cdbe38fe8c0e31987afb2d34ebf5139c57652f)
- test: stabilize mocks and fix header test typing [`501cd00`](https://github.com/karmaniverous/stan-cli/commit/501cd0034a996bb9447018a072ff40c13839b01b)
- test(snap): stabilize lazy resolver default-only path; fix SSR picks [`2f3f5d2`](https://github.com/karmaniverous/stan-cli/commit/2f3f5d2dedd5892630e98a86b613defa93fc3f6a)
- fix(ssr): harden named/default import resolution for service and snap contexts [`08b5ac6`](https://github.com/karmaniverous/stan-cli/commit/08b5ac69e37e5fe5e887d8e98aeeea0fb589d325)
- chore: track failing tests and proof plan in dev plan [`1dd172d`](https://github.com/karmaniverous/stan-cli/commit/1dd172d18081597a85d4d5efa69a9e7d65348095)
- test: adopt node env + ESM-friendly mocks; fix help footer test [`b63f617`](https://github.com/karmaniverous/stan-cli/commit/b63f6172d39ce27f1629105a48278b3f04007773)
- test/cli: stabilize snap resolver mock and SSR-guard loadCliConfigSync [`da174d5`](https://github.com/karmaniverous/stan-cli/commit/da174d59514bf3a1d148b679ad20299f081c60e3)
- fix(session/init): resolver typing, ESM import, and test mock shape [`682043d`](https://github.com/karmaniverous/stan-cli/commit/682043d144c2099702be90aff9fefa861cd8ea01)
- fix(cli): robustly resolve registerPatch in makeCli to tolerate SSR/ESM interop [`5471c30`](https://github.com/karmaniverous/stan-cli/commit/5471c30db45adb7c8dcd087998ed5a4743a4aec4)
- fix(cli): honor legacy root cliDefaults for debug/boring in root env defaults [`43722b5`](https://github.com/karmaniverous/stan-cli/commit/43722b5ecd5c7e56b081936f41cfcfc86e3a9ddf)
- fix: overlay fallback + SSR guard in CLI loader [`a840de4`](https://github.com/karmaniverous/stan-cli/commit/a840de4b94181a244b359b7e06f351536e866b6f)
- fix(snap): broaden default-only resolver to scan immediate default object for function props [`ec3c9af`](https://github.com/karmaniverous/stan-cli/commit/ec3c9af0e7b775c08211c5f7c3bc8517a74c35fc)
- fix: resolve snap default-only mock; type-safe lazy cli config in run/action [`9a0cbf4`](https://github.com/karmaniverous/stan-cli/commit/9a0cbf47b83cefa130297af1037252dd745ff444)
- chore(build): ignore allowed Rollup warnings in warnPattern [`59f3991`](https://github.com/karmaniverous/stan-cli/commit/59f39914c312b0492d3fb6a7249330e5941865f1)
- fix(snap): SSR-safe resolution of findConfigPathSync in snap context [`8946398`](https://github.com/karmaniverous/stan-cli/commit/8946398b9e22d5ff541437e69758c145ece200a3)
- fix(cli/snap): always patch argv normalization; prevent 'unknown command node' [`3b348f5`](https://github.com/karmaniverous/stan-cli/commit/3b348f5d50919d9678fbe9da022c32c59b1c4a01)
- fix(run): hoist epoch helpers to declarations to remove SSR flake [`6e10a20`](https://github.com/karmaniverous/stan-cli/commit/6e10a20d0a982cac48ba5aad2bca4660fcceba11)
- fix(snap): hoist resolveContext for SSR binding stability [`f750a3b`](https://github.com/karmaniverous/stan-cli/commit/f750a3b0bed59978f8a50d4996aa95821abc8ac3)
- fix(snap): resolve default-only engine resolver; fix TS return type [`fc73531`](https://github.com/karmaniverous/stan-cli/commit/fc7353116a59e6c6695ce98bebdc76bc9d389718)
- test: stabilize snap resolver default-only mock (nested default.default) [`5f6ae0f`](https://github.com/karmaniverous/stan-cli/commit/5f6ae0ff2e18e5b1318fe6798690a1775b9bc611)
- fix(cli): include plan in SSR fallback initializer; drop unsafe post-assign [`31430e4`](https://github.com/karmaniverous/stan-cli/commit/31430e45f1bda73184d1e754667169e233bf468b)
- fix(live): separate brace/comment boundary before flushNow to avoid SyntaxError [`daa391a`](https://github.com/karmaniverous/stan-cli/commit/daa391afb5458e6c45ad15c48daf34e7125440b6)
- chore: enable snap facet (and keep tests/live-ui active) for next run [`81991e2`](https://github.com/karmaniverous/stan-cli/commit/81991e2c2b8996875dc5eaae634bc8bdddf96115)
- test: run Vitest in forks pool to support process.chdir in CLI suites [`2d88a0a`](https://github.com/karmaniverous/stan-cli/commit/2d88a0aa9752f0c9928ce357dfa2e5321019463e)
- refactor: decompose session/init into modules [`9f8f2f2`](https://github.com/karmaniverous/stan-cli/commit/9f8f2f28b131a775a7eb33b889b45e9afebcb983)
- chore: enable patch facet for next run to unlock final test fix [`0be2658`](https://github.com/karmaniverous/stan-cli/commit/0be265821bd0b42335a7e50233a275920a08b7f5)
- fix(cli/patch): use SSR-safe applyCliSafety resolver for subcommand [`f9e1495`](https://github.com/karmaniverous/stan-cli/commit/f9e1495216f7d91dfd63609d805498061b65b0c2)

#### [0.11.0](https://github.com/karmaniverous/stan-cli/compare/0.10.3...0.11.0)

> 18 October 2025

- feat(cli): record facet overlay requirements and dev plan [`2b936d3`](https://github.com/karmaniverous/stan-cli/commit/2b936d311162c2cef5d17a2107e648fbb6389196)
- feat(run): facet overlay scaffolding — flags, readers, anchors plumbing [`76f23dc`](https://github.com/karmaniverous/stan-cli/commit/76f23dc101b0be1e90a2486491478ef6cb5bcd78)
- updated stan-core [`b0d7844`](https://github.com/karmaniverous/stan-cli/commit/b0d7844d262d6dfa6a5fbb6abb615b8cdd57bad3)
- feat(interp/core): propose minimal facet overlay (exclude+anchor) and CLI-owned semantics [`4620c28`](https://github.com/karmaniverous/stan-cli/commit/4620c280951833fb35b5b280d5973a2fb5986b87)
- chore: release v0.11.0 [`a7bf656`](https://github.com/karmaniverous/stan-cli/commit/a7bf656d34ceae81673e5e0bb974d47256d4a6c7)
- feat(cli): rename facet flags (-f/--facets, -F/--no-facets) and align semantics/docs [`9135c4d`](https://github.com/karmaniverous/stan-cli/commit/9135c4d99989bf6b98fd186d1a22febb32d5c6da)
- chore(interp/core): ACK facet overlay; accept anchors hook and outline next steps [`a1bbb8a`](https://github.com/karmaniverous/stan-cli/commit/a1bbb8a14a33929a77f3b6fa0d66a1a8468cd4bb)
- test(docs): add facet overlay unit tests [`81a1649`](https://github.com/karmaniverous/stan-cli/commit/81a1649b06b9304ff77ed057d7af9213cd8596f0)
- chore: add stan-core interop note for facet‑aware editing guard; update plan [`e94b61f`](https://github.com/karmaniverous/stan-cli/commit/e94b61fd7035d64c4647b9090bbadcf4adc94ef0)
- updated todo [`28b90ea`](https://github.com/karmaniverous/stan-cli/commit/28b90ead8cc05ef17c3544653b77690e144205df)
- feat: add high-impact facets (tests, live-ui) to shrink archives [`a9dc003`](https://github.com/karmaniverous/stan-cli/commit/a9dc0033415cc8a6fa55798343ef61d5dadfad94)
- test: add integration asserting anchors never override reserved denials [`9a2c297`](https://github.com/karmaniverous/stan-cli/commit/9a2c297523ce4c4509b82396fc97dfa1d9179e1c)
- read interop [`6f01492`](https://github.com/karmaniverous/stan-cli/commit/6f014921298c55700119d8ccb692cac977d490e6)
- feat: env‑gate legacy config acceptance (Phase‑2); require STAN_ACCEPT_LEGACY [`5e5331c`](https://github.com/karmaniverous/stan-cli/commit/5e5331ca7994e235e4dc25ea4f270968d0a12eae)
- feat(init): add system state/meta files to .gitignore and test [`f5e479c`](https://github.com/karmaniverous/stan-cli/commit/f5e479c5e4763f07deca01a7bcbb59002e37d3b8)
- updated gitignores [`3a32909`](https://github.com/karmaniverous/stan-cli/commit/3a3290995dbe3af3412744854b388c8736a42a57)
- feat: add patch/snap/init facets to further shrink archives [`4eb478c`](https://github.com/karmaniverous/stan-cli/commit/4eb478cac703aa6185440db8bcfa2e43a40c0ee7)
- docs(todo): update overlay status, enumerate remaining tasks, mark migration criteria done [`05b075c`](https://github.com/karmaniverous/stan-cli/commit/05b075c1475f45b48c08b9b2d16834944fe35310)
- feat: add initial facet overlays (ci/vscode/docs) [`d20c737`](https://github.com/karmaniverous/stan-cli/commit/d20c7373ba1ba22a1b7880e5cece4f72c120f03b)
- updated stan-core [`fd503a7`](https://github.com/karmaniverous/stan-cli/commit/fd503a71e36210bf8483e21d3d1312300ceb3137)
- test: scope reserved‑denials integration to diff/patch; note .git follow‑up [`95b5983`](https://github.com/karmaniverous/stan-cli/commit/95b5983aa5b4c7efb8ac8b8c05fea9b067457723)
- feat: enable tests facet; schedule reserved‑denials test next turn [`9d765bd`](https://github.com/karmaniverous/stan-cli/commit/9d765bd13a49c2e206cdf03a6b105e321583758a)
- test: set STAN_ACCEPT_LEGACY at module load in setup to fix legacy‑config suites [`4d6f35a`](https://github.com/karmaniverous/stan-cli/commit/4d6f35aaf71309d57c04bbf342e2d58a91963789)
- updated stan [`08d664f`](https://github.com/karmaniverous/stan-cli/commit/08d664f53347bf98567d6becde2dbce6e56f2c18)
- feat: add high-impact facets (tests, live-ui) to shrink archives [`90c8d73`](https://github.com/karmaniverous/stan-cli/commit/90c8d73190bebedaffacaa6f08cd916a300100ed)

#### [0.10.3](https://github.com/karmaniverous/stan-cli/compare/0.10.2...0.10.3)

> 16 October 2025

- test: consolidate cancellation suites and remove per-suite tar mocks [`4767be8`](https://github.com/karmaniverous/stan-cli/commit/4767be84d8a3017ad02031d75cc52e3ced83c1e7)
- refactor: DRY prompt-aware archiving in session (diff/full helpers) [`895e607`](https://github.com/karmaniverous/stan-cli/commit/895e60702c07ca0955aa0811c0b7eedbd46d12e5)
- repo reorganization [`d98d037`](https://github.com/karmaniverous/stan-cli/commit/d98d03779d409508a34d5f1957bb4e67cf3b0b01)
- refactor(archive): unify ephemeral archive wiring via archivePhase toggles [`22c4660`](https://github.com/karmaniverous/stan-cli/commit/22c4660944d6c1cdc6e718db4a94ea817659fbef)
- refactor(cli,runner): add archive/snap barrels and shared config parser [`0c252b8`](https://github.com/karmaniverous/stan-cli/commit/0c252b87bce072dfac01924c6d87df0139cc716a)
- refactor(ui,snap): extract lifecycle helpers; add selection util [`e36a718`](https://github.com/karmaniverous/stan-cli/commit/e36a718add8322324ac28189d24ce91585763678)
- fix(archive,cli): resolve archive barrel shadowing; remove unused options [`32ad7da`](https://github.com/karmaniverous/stan-cli/commit/32ad7da27131036a61219d1756bfe28f243afaf6)
- refactor(dry): factor archive-stage config/progress helpers [`bbeec8f`](https://github.com/karmaniverous/stan-cli/commit/bbeec8f036ab4b92872645e7ee913ebebfc77345)
- chore: release v0.10.3 [`81d6bfa`](https://github.com/karmaniverous/stan-cli/commit/81d6bfad151e6777a3a7ecc079d36c2bfb8c0ea4)
- refactor(ui): centralize row→presentation mapping for live/logger [`183971f`](https://github.com/karmaniverous/stan-cli/commit/183971f3195eb95301e4b962cafb6b003db8e932)
- updated dev plan [`3157760`](https://github.com/karmaniverous/stan-cli/commit/31577602a515d6970decd6821ecdaaa8476d1b86)
- refactor(dry): remove duplicates, unify archive call, and centralize helpers [`8815e87`](https://github.com/karmaniverous/stan-cli/commit/8815e87235010faff5225a936d1b4be2e48dee97)
- refactor(ui): add shared end-forwarders for LiveUI/LoggerUI [`f789c0e`](https://github.com/karmaniverous/stan-cli/commit/f789c0e2d5acf78be7b83b90d89c90b8eaae6b4c)
- fix(test): import rm to resolve PATH augmentation test [`e21b9c0`](https://github.com/karmaniverous/stan-cli/commit/e21b9c075f9e15645decdb45014cdca60184b2e0)
- refactor(cli): centralize early config legacy notice; use shared helpers [`40f7d4a`](https://github.com/karmaniverous/stan-cli/commit/40f7d4a48c013bbf115e4a5d28e056d649cb0008)
- refactor(progress): add BaseSink and adopt in LiveSink/LoggerSink [`b3c60b1`](https://github.com/karmaniverous/stan-cli/commit/b3c60b1fe252cd410e1a3e1c4c42e3d484aae5fd)
- fix(snap): scope error vars in history; remove unused helper and duplicate test [`bd56049`](https://github.com/karmaniverous/stan-cli/commit/bd560493195b1233f53b56a3b84ab0cb56ded297)
- runner: add secondary late-cancel settle before archive [`219f491`](https://github.com/karmaniverous/stan-cli/commit/219f4918bd6f2bd9798303e798a418df3363ec16)
- test: DRY phase 1 — rmDirWithRetries + barrel imports in tests [`2de27eb`](https://github.com/karmaniverous/stan-cli/commit/2de27eb5041ed82c3e9b773d060e345aa8a44f87)
- chore: fix lint by removing unused legacyWarned in run.action [`3781c67`](https://github.com/karmaniverous/stan-cli/commit/3781c67e1c02ccf005ac4caac2d6b05c2d7a87ec)
- refactor(cli): centralize legacy engine detection debug notice [`ac7e0e4`](https://github.com/karmaniverous/stan-cli/commit/ac7e0e4bad51254f982458773fe8dcbd4c0512a3)
- refactor: centralize debug scope labels and adopt across CLI/runner [`53f1437`](https://github.com/karmaniverous/stan-cli/commit/53f1437770e3f654b212daacc340cd3c252d1eee)
- chore: clean tsdoc warnings and sync plan [`79c4d03`](https://github.com/karmaniverous/stan-cli/commit/79c4d03ad6dba5c0bc2f7302f283cbc7e9a8a706)
- build: fail on project circular dependencies (CI guard) [`3c116f7`](https://github.com/karmaniverous/stan-cli/commit/3c116f78efa0d032fc931dee884eb18bbb1fe0d6)
- chore: add progress barrel and switch UI imports; confirm single-entry archive wiring [`05a7760`](https://github.com/karmaniverous/stan-cli/commit/05a776099874e4ee110c72fe861f2b97d753590f)
- fix(run): harden sequential pre-spawn cancel gate (CI/POSIX-aware) [`315697e`](https://github.com/karmaniverous/stan-cli/commit/315697e9b6243dcab1bc5182a31e7d4e3328f797)
- chore(todo): track archive wiring, barrels, and cancel test consolidation [`a42bce5`](https://github.com/karmaniverous/stan-cli/commit/a42bce593def9305bb94679a8f9ec73894c95cff)
- chore(debug): log stanPath fallback; plan tidy [`f9473ec`](https://github.com/karmaniverous/stan-cli/commit/f9473ecd11c806af52fd6c70e71026b26c47760d)
- docs(plan): add barrel/cycle guidance; prune duplicate debug-labels task [`16a89de`](https://github.com/karmaniverous/stan-cli/commit/16a89de99334c622470fdeb3439fcf926cee5723)
- refactor: broaden barrel adoption (session/live/progress) [`1bcf2c4`](https://github.com/karmaniverous/stan-cli/commit/1bcf2c4659fab0e03c936a9ff1df669332df3bc6)
- chore(test): centralize helpers under src/test-support and update imports [`e7dcce6`](https://github.com/karmaniverous/stan-cli/commit/e7dcce6c01150176b30d8f0e8b706187c92d8e7e)
- docs(todo): remove duplicate CI speed item from Next up [`e9a390f`](https://github.com/karmaniverous/stan-cli/commit/e9a390f77c0ad430f013a7db80333552105f5b3d)
- chore: barrel sweep — export stageImports and fix deep import [`234f1c0`](https://github.com/karmaniverous/stan-cli/commit/234f1c0066500724771d7fe1c160346225abfeb8)
- refactor: add archivePrintable helper and use in Logger sink [`2fd1d60`](https://github.com/karmaniverous/stan-cli/commit/2fd1d60ff6a39992353230e6226b093942b24c96)
- refactor: adopt barrels and extend session exports (phase 1) [`5f6f226`](https://github.com/karmaniverous/stan-cli/commit/5f6f22611f3f6c5215063283de410f25f028e159)
- chore: remove preflight module, add live barrel, and update tests [`079b60c`](https://github.com/karmaniverous/stan-cli/commit/079b60c8977a61164f28dd95df78a81b3575ed94)
- refactor(cli): DRY plan default via runDefaults; adopt in run action [`756f770`](https://github.com/karmaniverous/stan-cli/commit/756f770dbb086d15ba04cc9a90e0df7cccfd2fd6)
- run: finalize cancellation stabilization (CI-only POSIX settle tweak) [`332c07b`](https://github.com/karmaniverous/stan-cli/commit/332c07b46c9d1f7a6fea8e79f975186c83b2590c)
- test: fix live keypress cancellation in matrix by setting stdin TTY [`bbcc752`](https://github.com/karmaniverous/stan-cli/commit/bbcc7528cc4b4e87eb5c9cfb8ee954d082aaa6e5)
- chore(plan): persist unpersisted tasks [`366a77f`](https://github.com/karmaniverous/stan-cli/commit/366a77fb8f4e24fd6852f0ca64bcf3b9c3ff90a4)
- chore: add prompt barrel and normalize tests [`e20d422`](https://github.com/karmaniverous/stan-cli/commit/e20d42225badc0dcf9ef3508cf77a85f80f5ec5f)
- chore: add presentation barrel and switch presentRow imports; archive wiring confirmed [`cd808c1`](https://github.com/karmaniverous/stan-cli/commit/cd808c1fd9f23d97640655a0bba7e6d07f51e79a)
- fix: break session/archive-stage circular dependency [`9a981cf`](https://github.com/karmaniverous/stan-cli/commit/9a981cf27cce940eebbd43b5958c277d945860ec)
- docs(todo): record Windows stabilization of cancellation matrix [`e59f40d`](https://github.com/karmaniverous/stan-cli/commit/e59f40dcd4f329d153153f3e19831760af2fe411)
- chore(knip): remove duplicate default export from readSelection [`5f39c13`](https://github.com/karmaniverous/stan-cli/commit/5f39c13cd44f0e748e2ec3da34869a2763c68588)
- chore(test): use snap barrel in selection-sync.test.ts [`2715bec`](https://github.com/karmaniverous/stan-cli/commit/2715becb7565245d96a272e23ea76a8473086d03)
- fix(session): resolve TS2322 by aligning invoke-archive with archivePhase [`156e959`](https://github.com/karmaniverous/stan-cli/commit/156e95922f60a099d6803ae6941c0375e2ac1d4f)

#### [0.10.2](https://github.com/karmaniverous/stan-cli/compare/0.10.1...0.10.2)

> 15 October 2025

- updated stan [`c8a3c49`](https://github.com/karmaniverous/stan-cli/commit/c8a3c49861d103eafe9d2d4fd3cdade47c065c77)
- chore: robust core prompt resolver + CLI fallback [`3d29166`](https://github.com/karmaniverous/stan-cli/commit/3d29166bbfc1e4df89e52033f16d745c3073fc98)
- chore: release v0.10.2 [`ed2da23`](https://github.com/karmaniverous/stan-cli/commit/ed2da23ce45c3c03f9ca300a67133aa96f8423c2)
- run: resolve prompt at plan; honor --prompt; add STAN_DEBUG trace [`48bc95a`](https://github.com/karmaniverous/stan-cli/commit/48bc95a7ef2b92814a35d12b1aeea2a0ff23f48f)

#### [0.10.1](https://github.com/karmaniverous/stan-cli/compare/0.10.0...0.10.1)

> 14 October 2025

- ingest interop note [`1c3fea7`](https://github.com/karmaniverous/stan-cli/commit/1c3fea790359f494077b8df43f6c419ee9ce4fa9)
- chore: ack core interop; plan prompt-resolution helper + tests [`0b565ff`](https://github.com/karmaniverous/stan-cli/commit/0b565ff04a2f2cbe68673dda6ce467728d6d83c6)
- chore(todo): prune Completed (recent) to last items [`6846fa7`](https://github.com/karmaniverous/stan-cli/commit/6846fa7e1f37f7c2a202ba0173703d73c6c69325)
- chore: release v0.10.1 [`3b38ace`](https://github.com/karmaniverous/stan-cli/commit/3b38ace36420a134c0acfd39de20d45b7b34f3cd)
- test(resolve): avoid package.json exports in fallback assertion [`7f70946`](https://github.com/karmaniverous/stan-cli/commit/7f70946274968f2a5d2966eeaa28b9777b76241d)
- test(resolve): accept installed core dist path in fallback assertion [`a92de6e`](https://github.com/karmaniverous/stan-cli/commit/a92de6ee9f79e0e4b8cb99909953c55a37d154c5)
- fix(test): satisfy NodeJS.RequireResolve in fallback test [`2d67341`](https://github.com/karmaniverous/stan-cli/commit/2d673417225ae40b91b7255cd5db9e5c9e361632)

#### [0.10.0](https://github.com/karmaniverous/stan-cli/compare/0.9.0...0.10.0)

> 14 October 2025

- fix(init): ask to preserve scripts during legacy upgrade; skip selection when preserved [`c36ad31`](https://github.com/karmaniverous/stan-cli/commit/c36ad31422e9100bc3379ababede6b6598b141bc)
- plan: audit silent fallbacks (debug logs) and fix default stanPath fallback [`6779f3e`](https://github.com/karmaniverous/stan-cli/commit/6779f3e31d04e741d5ac70a81298625182779aa6)
- refactor(exec,session): decompose long modules into focused units [`55c6b2e`](https://github.com/karmaniverous/stan-cli/commit/55c6b2e5186823a37cd3114a713ba471407d3f71)
- refactor(session): decompose long session orchestrator into directory+index modules [`b19348d`](https://github.com/karmaniverous/stan-cli/commit/b19348d2a04c0502eeea801b10074cf2c9263dca)
- feat(run): add system prompt selection (-m/--prompt), materialize for full+diff with restore; remove run/snap drift prints [`1db870b`](https://github.com/karmaniverous/stan-cli/commit/1db870b5f923abc17dd99fc34cb2aba1044df0c9)
- feat(run): add -m/--prompt source selection; remove drift prints from run/snap; include prompt in plan and diff [`13dc5ee`](https://github.com/karmaniverous/stan-cli/commit/13dc5ee18c07e1a882bef88c633a4124d8da4435)
- refactor(init): split service index into helpers and resolvers (no new subdir) [`aa6b648`](https://github.com/karmaniverous/stan-cli/commit/aa6b648b5662f6ba5aea3a46649baca298824cbe)
- feat(config): add namespaced ingestion contract; plan init migration and legacy engine fallback [`1566f2c`](https://github.com/karmaniverous/stan-cli/commit/1566f2c5af4ca06d31a165843ab83b87f62dd5e5)
- feat(config): init migrates legacy → namespaced; honor legacy engine keys during transition [`6d2fc89`](https://github.com/karmaniverous/stan-cli/commit/6d2fc892b1bc92345b87e004a09eb743122b0676)
- chore: release v0.10.0 [`99e9d65`](https://github.com/karmaniverous/stan-cli/commit/99e9d658277465d54bad3eb5d3d2bc8e100e14ff)
- fix(run): always emit engine-legacy debugFallback under STAN_DEBUG=1 [`ad61c82`](https://github.com/karmaniverous/stan-cli/commit/ad61c829a5c0c8572fcd00506c245efc1b7513a2)
- feat(run): include-on-change ephemeral prompt; snap records prompt hash [`4c983ff`](https://github.com/karmaniverous/stan-cli/commit/4c983ff2636f0ced927e0ba772c11fa50e6859e0)
- test(snap): fix Windows teardown flake in stash success test [`b465402`](https://github.com/karmaniverous/stan-cli/commit/b46540226198cf53f1d70a38238c231c55ca7f8e)
- feat(cli-config): add stan-cli loader (Zod) and wire into help/patch/snap/version/snap-context [`4c54341`](https://github.com/karmaniverous/stan-cli/commit/4c5434109167e2d351daea984b49437324e2d4f4)
- refactor(run): adopt RunnerConfig (CLI scripts) and derive from CLI loader [`3b6a318`](https://github.com/karmaniverous/stan-cli/commit/3b6a3188ee96cde2d3f16b444c18d6ad75ac694a)
- refactor(run,config): emit legacy notice once; drop local DEFAULT_OPEN_COMMAND [`26f1ed5`](https://github.com/karmaniverous/stan-cli/commit/26f1ed5a36e20a2d090baf3d9838f4f38cedb81d)
- fix(init): avoid legacy root keys when namespaced; refine tests; tidy docs [`6fbb955`](https://github.com/karmaniverous/stan-cli/commit/6fbb9559f03f196548058d9b22892eb08f46d189)
- fix(init+run): non-interactive --dry-run; idempotent force on namespaced; emit engine-legacy debugFallback [`a39f02c`](https://github.com/karmaniverous/stan-cli/commit/a39f02c883ee6f77e874261d0ae41ae58d2d37cd)
- refactor: DRY archive helpers into shared module [`7a38da3`](https://github.com/karmaniverous/stan-cli/commit/7a38da371821dad2cc4a3eb52c217797333640b7)
- fix(run): honor legacy includes/excludes during archive [`c67603b`](https://github.com/karmaniverous/stan-cli/commit/c67603ba2baacfa9522e67c878ab9ce69eea5e7e)
- fix(run): suppress ephemeral prompt from diff by creating diff before injection [`f9461ce`](https://github.com/karmaniverous/stan-cli/commit/f9461ce6dfbbc3df27aa7b2e48b37adf8183037e)
- feat(run): execute scripts with repo-local PATH (node_modules/.bin precedence) [`287cbb9`](https://github.com/karmaniverous/stan-cli/commit/287cbb9c43f6357c7baeebc9e734737d8a0c8265)
- chore(docs,tests): PATH note; fix Typedoc warning [`c41d2cf`](https://github.com/karmaniverous/stan-cli/commit/c41d2cf6e1fb283e09ee6ddc6a6841f8270aaa7a)
- refactor: normalize duplicate decompositions; move CLI bootstrap out of stan/ [`ff63ef4`](https://github.com/karmaniverous/stan-cli/commit/ff63ef460011e476706c8f92b2c31cdd69d9fe9a)
- refactor(cli): DRY command headers into shared helper [`60a6ec8`](https://github.com/karmaniverous/stan-cli/commit/60a6ec8a9e6d65c9671690c0e6b9987b4b8694ad)
- test: migrate to RunnerConfig; harden snap tests for Windows/CI timing [`2af66b2`](https://github.com/karmaniverous/stan-cli/commit/2af66b2684858be718e31720dc9f773c178c457c)
- fix(init,run): migrate legacy → namespaced and emit early engine-legacy debug [`05f77b0`](https://github.com/karmaniverous/stan-cli/commit/05f77b0f7e1e47bd5aaff7801caf954e52b7b655)
- docs: add Migration guide; wire into typedoc; link from README; update plan [`746b17e`](https://github.com/karmaniverous/stan-cli/commit/746b17ee62600332f2954960c5ab70eb67442f12)
- test(init): tighten root-level scripts regex in migration test [`f45107c`](https://github.com/karmaniverous/stan-cli/commit/f45107c906e55f06f7c283928762f74ce46b7528)
- test: finish RunnerConfig migration; harden snap tests [`7537803`](https://github.com/karmaniverous/stan-cli/commit/75378035a698e23a969c7ee47fde3f6d95c5e2f9)
- fix(cli): move CLI defaults/patchOpenCommand reads to stan-cli loader; import core in snap [`0e03ca8`](https://github.com/karmaniverous/stan-cli/commit/0e03ca83d0c4dba01d3d2b5efef0256c6b5ad9ae)
- refactor: centralize STAN workspace paths and adopt across archive code [`18afa13`](https://github.com/karmaniverous/stan-cli/commit/18afa1334c407c20d2851f04f19756823387a6e5)
- fix(init): preserve existing scripts on legacy upgrade by seeding UI defaults from migrated config [`9565331`](https://github.com/karmaniverous/stan-cli/commit/95653314078aaafabb5411cb7d2797bd4fa66538)
- fix(cli): compute plan default from stan-cli config; snap stash default from CLI; repair patch service [`5fd5b90`](https://github.com/karmaniverous/stan-cli/commit/5fd5b90ab24ef4ad9d28b847e0dbda783351e182)
- fix(init/run): skip migration prompt on --dry-run; strict no-op for --force+namespaced; early run.action legacy notice [`8f01ebf`](https://github.com/karmaniverous/stan-cli/commit/8f01ebf7eab55ae1c161d9ba93726ed9a40949c5)
- fix(run): debug-log config fallback and use ".stan" default via core helpers [`694feb5`](https://github.com/karmaniverous/stan-cli/commit/694feb564ef98671b19c926b24a574ce228586be)
- fix(cli): restore loop header and reversal guard in snap/patch [`b1d14ed`](https://github.com/karmaniverous/stan-cli/commit/b1d14edbcf90a3c8b0be179c1074275b594492c8)
- chore(tests,docs): fix header test lint/styling; export ScriptEntry for Typedoc [`9622b23`](https://github.com/karmaniverous/stan-cli/commit/9622b237d315f23cda3cadf34ce51b2073979a41)
- fix: import debugFallback and use core DEFAULT_OPEN_COMMAND [`cc0b179`](https://github.com/karmaniverous/stan-cli/commit/cc0b1790e86eae39a787250d8bdda45484963d5a)
- fix(run): ensure early legacy-engine debugFallback is emitted once [`fe50a54`](https://github.com/karmaniverous/stan-cli/commit/fe50a543270acb0c07d5bf6f77d646ef2665c720)
- updated dependencies [`b7cd94b`](https://github.com/karmaniverous/stan-cli/commit/b7cd94bb5fa23174e0704a14a1b8bea73fc53dc9)
- docs: note plan ‘prompt:’ line; add init migration/.bak/--dry-run; update plan [`297cd75`](https://github.com/karmaniverous/stan-cli/commit/297cd75a3334e8847d9798e39dca2b0949a2fda6)
- docs(todo): capture handoff tasks; normalize Next up to bullets [`058cd2d`](https://github.com/karmaniverous/stan-cli/commit/058cd2ddef5d3b968b6964924a5657d69791efa0)
- fix(tests): align snap tests with namespaced config (stan-core/stan-cli) [`6ea474f`](https://github.com/karmaniverous/stan-cli/commit/6ea474f505ead1337d8fdacd0decefd7e48573fd)
- fix(lint): resolve TSDoc and unused code issues [`fc0f2f3`](https://github.com/karmaniverous/stan-cli/commit/fc0f2f3524e7906c4b34579e4054bee02b9ab6b8)
- chore: adopt directory+index barrel convention; regularize exec module [`c155512`](https://github.com/karmaniverous/stan-cli/commit/c155512720006ca09eb2abf74d350d101f8336fe)
- docs(run): document prompt source flag and diff suppression behavior [`26a8a6c`](https://github.com/karmaniverous/stan-cli/commit/26a8a6ccbf612895842fd53c8b1f38a5d649ff4a)
- refactor(dry): remove redundant barrels; realign exports/imports [`bae675a`](https://github.com/karmaniverous/stan-cli/commit/bae675a62f619d2c12bef4c9af7924fc8ea8c205)
- test: ensure legacy engine notice appears during CLI legacy fallback [`3208220`](https://github.com/karmaniverous/stan-cli/commit/3208220d2e4520d8b77c55c48d6a2c41bf9f9aeb)
- fix(lint): remove unnecessary await in session prompt resolution [`ee6e2c8`](https://github.com/karmaniverous/stan-cli/commit/ee6e2c8d9b8def513508730dc24ac0c51bf88bba)
- refactor(version): use shared docs-meta reader [`5e7298b`](https://github.com/karmaniverous/stan-cli/commit/5e7298b94dc235ab7e8eead15073e32cdeb6780a)
- installed zod [`27c495b`](https://github.com/karmaniverous/stan-cli/commit/27c495b80364d6af31a674da38cc10cbcd0a1008)
- test(core): make TTY detection dynamic to fix styled header test [`4d342bb`](https://github.com/karmaniverous/stan-cli/commit/4d342bb87d968f4e22bdf69a03a5548bd7f84148)
- fix: import debugFallback and use core DEFAULT_OPEN_COMMAND [`0005ca3`](https://github.com/karmaniverous/stan-cli/commit/0005ca340b95f4c1d4af97011aa4019704e33625)
- updated stan-code [`d8d2573`](https://github.com/karmaniverous/stan-cli/commit/d8d2573ec5ac5830f6e3b747c5a4868c12028164)
- updated stan [`99c1f3b`](https://github.com/karmaniverous/stan-cli/commit/99c1f3bd095e07b661f4dcd7cc18e6d2fb53fbf9)

#### [0.9.0](https://github.com/karmaniverous/stan-cli/compare/0.8.0...0.9.0)

> 10 October 2025

- feat(cli): dim “(Y/n)” in loop reversal prompt and DRY confirmation logic [`af2f3af`](https://github.com/karmaniverous/stan-cli/commit/af2f3af814b010b81c879c5f664c00d11ad3ca61)
- refactor(patch): decompose service; enforce FO-only and single-file diff [`8914d96`](https://github.com/karmaniverous/stan-cli/commit/8914d965e2a913e4ac7580280f0d3d8b1e24acdc)
- refactor: decompose UI/renderer/session; fix final-frame policy [`704bec7`](https://github.com/karmaniverous/stan-cli/commit/704bec7b0c14f2c28d341d182ce8ca7d19dbb189)
- fix(live): keep hint after first frame; attach keys before render; fix ANSI probe; serialize final frame [`3ee0b22`](https://github.com/karmaniverous/stan-cli/commit/3ee0b2289ddf2effb1d50817606ac7d9c56aa458)
- feat(logger): replace log-update with AnchoredWriter (no alt-screen); keep table anchored; hide hint on completion [`1ba936e`](https://github.com/karmaniverous/stan-cli/commit/1ba936e3cbeadf7758ba5c3f722068dd9e4d9bfb)
- fix(patch): classify File Ops–only patches correctly; add regression test [`f258e2e`](https://github.com/karmaniverous/stan-cli/commit/f258e2e9fc9c23da20fdaf3dded996723eb8ef1d)
- deleted bs tests [`58f049b`](https://github.com/karmaniverous/stan-cli/commit/58f049bdf73baa70d5e407b173e0d497cbab431d)
- refactor(live): decompose renderer; move frame composition to frame.ts; keep renderer lean [`e8223b0`](https://github.com/karmaniverous/stan-cli/commit/e8223b0945c76489b5f011ac9d24054a65250352)
- feat(live): switch to FullClearWriter; remove log-update dependency; stabilize Windows/VS Code footer [`7af38ad`](https://github.com/karmaniverous/stan-cli/commit/7af38ad0908cd2aa9c04c915d0cc6bb4da047f61)
- refactor: further decompose session/renderer; fix lint [`37adb86`](https://github.com/karmaniverous/stan-cli/commit/37adb868e591c3a4923db7cdb66a2be2453348d1)
- feat(loop): add loop header + reversal guard; global -y/--yes [`77891d3`](https://github.com/karmaniverous/stan-cli/commit/77891d3d957596471d1c041091bbb38c44bc678f)
- chore: release v0.9.0 [`6977ae1`](https://github.com/karmaniverous/stan-cli/commit/6977ae147fe29e096d6f99e4e37b05f91b8e93e3)
- fix(live): add trailing newline to frames and assert footer persistence [`430fb15`](https://github.com/karmaniverous/stan-cli/commit/430fb15260aee61ef0d592e17fefe28586166909)
- refactor: extract live tracing to shared module [`3346b73`](https://github.com/karmaniverous/stan-cli/commit/3346b734e501cd52f462eb02f1cedae4f94bba18)
- patch: keep patch logs contiguous, print trailing blank once; DRY patch service [`f065382`](https://github.com/karmaniverous/stan-cli/commit/f06538210d15ce7c027592c69e32eb2b65b1770c)
- test(run): add live restart behavior test (instructions persist, single header-only flush, no clear) [`3e13bb6`](https://github.com/karmaniverous/stan-cli/commit/3e13bb6b0776963bb7ad1a755e0719386cbda837)
- test(live): add failing guard against ghost [FAIL] after restart; no stale end-state before new session starts [`a455dc5`](https://github.com/karmaniverous/stan-cli/commit/a455dc5e52692055b9e2c8816d1a1446e92af870)
- updated stan-core [`3073fd4`](https://github.com/karmaniverous/stan-cli/commit/3073fd4cd84bd1fa8f34d3b4b0f47aeae437624a)
- refactor(dry): unify UI types and BORING detection; remove duplicates [`102b64e`](https://github.com/karmaniverous/stan-cli/commit/102b64e89b416286476c7e58f9100000d3c8bebc)
- feat(patch): open modified files after successful apply [`86b8313`](https://github.com/karmaniverous/stan-cli/commit/86b831394fcf99779622f2170941c810809ab151)
- refactor(dry): centralize path/meta/counts helpers; adopt across UI/progress [`757ca12`](https://github.com/karmaniverous/stan-cli/commit/757ca12a549b2d4675dcd0dbcc8c7a04ed95ad59)
- fix(live): restart bridge drops stale rows; persist full table on completion [`abcddd6`](https://github.com/karmaniverous/stan-cli/commit/abcddd60b824d15e50a758e02753f54c00326de0)
- fix(live): restart shows CANCELLED immediately, no empty gap; flush new session rows [`2579cf9`](https://github.com/karmaniverous/stan-cli/commit/2579cf92096d5d75e5e209931a94809c254aeeb5)
- fix(live): left-align Time/Output headers; normalize trailing spacing; align tests [`7f5650e`](https://github.com/karmaniverous/stan-cli/commit/7f5650e8ceba2506c3d7e4f5413284d4fe610621)
- feat(patch): copy diagnostics to clipboard; add file line; open target on failure; fix table config [`ec6a168`](https://github.com/karmaniverous/stan-cli/commit/ec6a168587b5235998ecc7a3d6c2c9ae3b045d19)
- fix(live): left-align table headers to column content [`4fbfa94`](https://github.com/karmaniverous/stan-cli/commit/4fbfa942cac3027a3305e3f2bac12fea08776d2e)
- live: ANSI‑safe frame debug + lifecycle tracing (opt‑in) [`e3c1272`](https://github.com/karmaniverous/stan-cli/commit/e3c127290ea5efb596a83ee78cb1c2cf836c3de4)
- test(live): tighten ghost-fail restart test to fail when stale [FAIL] renders before first [WAIT]/[RUN] in new session [`d99b1a7`](https://github.com/karmaniverous/stan-cli/commit/d99b1a765edeed7ff21539198aac77d55543cf2c)
- live: add opt-in trace logs for renderer/sink (STAN_LIVE_DEBUG) [`6195ef3`](https://github.com/karmaniverous/stan-cli/commit/6195ef3e5e7cf29098a037402d14295ed0db3ca2)
- fix(live): keep table header visible between restarts [`abd383d`](https://github.com/karmaniverous/stan-cli/commit/abd383dbe4c258fd2b4218d6195b0f9ef71312db)
- fix: live restart guards; stabilize behavior test [`ed7bcf6`](https://github.com/karmaniverous/stan-cli/commit/ed7bcf6cfb5af2bd663ac62bcc19e895f711312f)
- refactor(cli): always use core dist system prompt [`250f63c`](https://github.com/karmaniverous/stan-cli/commit/250f63c5b0d50765815a3fcde630f9ebc1336a5c)
- chore(live): unify footer — render summary + hint together in header-only frames [`0ac5311`](https://github.com/karmaniverous/stan-cli/commit/0ac5311f6a755acb000894c430fca5f6e65b2684)
- test: normalize trailing-clears regex and relax restart assertions (fast terminals) [`760d495`](https://github.com/karmaniverous/stan-cli/commit/760d495d849715dd9a50a11a11486013e50ba475)
- test(run): harden live restart test (wait for [RUN], retry rm on Windows) [`0eb473b`](https://github.com/karmaniverous/stan-cli/commit/0eb473bbf7b870ef8d76489d5949ab5509c9462d)
- feat(cli): richer patch output and live table spacing [`a6aef20`](https://github.com/karmaniverous/stan-cli/commit/a6aef20b57243c94543636afb94410a1cc89c5ed)
- chore(snap): add trailing blank line after output in all paths [`b537f88`](https://github.com/karmaniverous/stan-cli/commit/b537f884fde77ae719e34ea31d64b464f459cfef)
- fix(run/live): reuse single UI across restarts; keep hint visible (no duplicate table) [`b7c0cef`](https://github.com/karmaniverous/stan-cli/commit/b7c0cef478acd7a50b0a29d6c89a0d54913f4648)
- test: robust terminal newline and restart progress checks; fix ups ordering [`b5f36bf`](https://github.com/karmaniverous/stan-cli/commit/b5f36bf0f62a1880abaa8a41f9b69cc3ae584600)
- test(run): bracket header-only flush between restart marker and first post-restart row [`b677dae`](https://github.com/karmaniverous/stan-cli/commit/b677dae8c489790cf0a414b5fd3adb7c9ce7d8e4)
- fix(run/live): align headers, print WARN output path, and trim trailing blanks; flush CANCELLED on restart [`c427932`](https://github.com/karmaniverous/stan-cli/commit/c4279327f687a1de06978ad1335b6b0bd1170d4b)
- fix(live): reuse same table on restart and cleanly detach handlers [`3cef1f3`](https://github.com/karmaniverous/stan-cli/commit/3cef1f37aa4bb02e2447b0e377918ed23e34119a)
- test(run): add expected-failing guard for live restart (single UI tag, persistent hint) [`c5ca34e`](https://github.com/karmaniverous/stan-cli/commit/c5ca34e4294a1626115e0c73425f10556d6b924b)
- fix(live): drop model and renderer rows at new-session boundary; no stale statuses; hint persists [`f27d634`](https://github.com/karmaniverous/stan-cli/commit/f27d634ae09cc6dc630fec99b9e78d8039361087)
- fix: reuse LiveUI across restarts; header-only bridge [`493b0c2`](https://github.com/karmaniverous/stan-cli/commit/493b0c2f75a97a762587c248332e253cb6e6fb6b)
- test: relax live restart/footer assertions to match correct runtime behavior [`4069baf`](https://github.com/karmaniverous/stan-cli/commit/4069baf109e7d41c97f66e6b9a49d711e79841fd)
- fix(live): deterministic header-only bridge on restart to keep hint visible [`ba0969b`](https://github.com/karmaniverous/stan-cli/commit/ba0969b2cffeb6ae86b9343709b2f3e598e9e2ac)
- decolorized stan build script [`cb89274`](https://github.com/karmaniverous/stan-cli/commit/cb892741d60df3ad9a11d2867062e0d69a147607)
- fix(patch): type/lint follow‑through after decomposition [`5ef57a7`](https://github.com/karmaniverous/stan-cli/commit/5ef57a7e3d18f17745c7ed9b00aac6f8920d4eec)
- fix(live): guarantee final-frame header + hint [`df925ef`](https://github.com/karmaniverous/stan-cli/commit/df925ef990cef2ba53e050287e989bfcc1267e6f)
- feat(run): make LiveUI/LiveSink.stop() idempotent to avoid duplicate final frames [`eac7810`](https://github.com/karmaniverous/stan-cli/commit/eac7810ba6f98b3041126fd59c774a9e0b8ceae4)
- test(run): scope live restart assertions to unique row; keep bounded wait [`24e424c`](https://github.com/karmaniverous/stan-cli/commit/24e424c3cba3c8b14f216fe6463eed3505d8b567)
- fix(run/live): two-space columns; exact header alignment; single final newline (no extra CLI newline) [`094727d`](https://github.com/karmaniverous/stan-cli/commit/094727d0374fad5cb3e90dd5a1176344e3816286)
- fix(live): hard-clear once before second paint to keep hint visible [`c7333c8`](https://github.com/karmaniverous/stan-cli/commit/c7333c872be91e32c8c9d98d990904bbd6c4da8d)
- fix(ui/logger): use relOut() in onArchiveEnd; remove leftover relative() [`4b7ac9c`](https://github.com/karmaniverous/stan-cli/commit/4b7ac9c4c1405bc6af39dd9da3b45ad2ba21ca13)
- fix(live): revert header-only final frame; keep restart bridge only [`1f3bf42`](https://github.com/karmaniverous/stan-cli/commit/1f3bf423113eff2f95dbd43d89df4c1772b7b607)
- test(run): scope live restart assertions to unique row; keep bounded wait [`ffa000e`](https://github.com/karmaniverous/stan-cli/commit/ffa000e7340ff64469522ff57fb54020c3c43ac2)
- fix(live): stop frame walk; ensure final newline [`f74fba5`](https://github.com/karmaniverous/stan-cli/commit/f74fba59d1a0be9ea633a4ef33f8cb7889e5c593)
- live: keep full table as final frame; header-only only on restart [`4a9acbe`](https://github.com/karmaniverous/stan-cli/commit/4a9acbefbdeaeae804f6737cfd629d891d5341c5)
- test(live): make final frame include header deterministically [`4f1faa4`](https://github.com/karmaniverous/stan-cli/commit/4f1faa404992b2286e25358ed77a47121046a0fa)
- live: include hint in final header-only frame [`e8859df`](https://github.com/karmaniverous/stan-cli/commit/e8859df034ceee15b4e45ea000449d5a9caf80bb)
- live: persist header-only final frame; docs note [`7a3d0a0`](https://github.com/karmaniverous/stan-cli/commit/7a3d0a05ca84a8254e3efef0a4684969644eae93)
- fix(live): stop frame from walking down each tick [`0c9b24d`](https://github.com/karmaniverous/stan-cli/commit/0c9b24d19b19a8e8e1515fe14d1d1e16f756f0d9)
- knip ignore cross-env [`3a1eec6`](https://github.com/karmaniverous/stan-cli/commit/3a1eec6070e7db096dfbd487580e5e7930c6440e)
- removed stan-core local alias [`f5c31d0`](https://github.com/karmaniverous/stan-cli/commit/f5c31d06b7676af754b383e73472aff78bd991b4)
- added build warnings [`93d3699`](https://github.com/karmaniverous/stan-cli/commit/93d369916991d4c92152e8528521b6ef7b49d124)

#### 0.8.0

> 7 October 2025

- Initial commit [`0aa40fe`](https://github.com/karmaniverous/stan-cli/commit/0aa40fe3218522b81a573b209c19e508ecaa2af2)
- chore(cli): remove core engine duplicates from repo [`0306a22`](https://github.com/karmaniverous/stan-cli/commit/0306a22a719718996bd3e7634805527866fbb4fe)
- Changed package name & created interop config [`cdfd13b`](https://github.com/karmaniverous/stan-cli/commit/cdfd13bb0368f0bbabe50ae7801205f607b8e52b)
- chore: release v0.8.0 [`a843c95`](https://github.com/karmaniverous/stan-cli/commit/a843c95778db14ec5b3083ea7f203362358cf57c)
- docs(cli): sync CLI requirements with stan-core import; prune core track [`bcfa432`](https://github.com/karmaniverous/stan-cli/commit/bcfa4323d04c0466295a497b3165bae6ce3bfea1)
- installed stan-core [`4897679`](https://github.com/karmaniverous/stan-cli/commit/4897679a3b2c0b19dc3fd73d5e104949325dd0d0)
- fix: lint + test parity; robust WARN detection; tar mock alias [`19294a3`](https://github.com/karmaniverous/stan-cli/commit/19294a3fc481422b553df7558d34894456f44c34)
- chore(cli): rewire core imports to @karmaniverous/stan-core (no subpaths); add core interop [`1dbc325`](https://github.com/karmaniverous/stan-cli/commit/1dbc325e32f34d9cf1e8601ffb6e0f7fbe04162d)
- chore: fix tar capture, WARN parity, docs warning, and cleanup [`437fe16`](https://github.com/karmaniverous/stan-cli/commit/437fe16036c326ca0f2b94e13e71b0be755ebe47)
- fix(patch): colorize status in TTY and copy diagnostics on failure [`e1e18b2`](https://github.com/karmaniverous/stan-cli/commit/e1e18b2d7c4f622f478d5857c7f347f68a4c18c5)
- chore(cli): rewire to top‑level stan‑core, add patch service, fix build/tests [`cf55cac`](https://github.com/karmaniverous/stan-cli/commit/cf55cac07f430a43376ad265035d3aa4bfd0ab65)
- chore(test): centralize tar call capture; fix WARN detection fallback [`8b78f78`](https://github.com/karmaniverous/stan-cli/commit/8b78f785dee16dab1d4d61bd95aa679530ca569c)
- updated dependencies [`c79190e`](https://github.com/karmaniverous/stan-cli/commit/c79190e3c6c58c259829e180b85ec8e4c866743c)
- test: stabilize archive/diff assertions (no tar-call capture) [`8d56c39`](https://github.com/karmaniverous/stan-cli/commit/8d56c39c0faa9aa71b2be2aafad954fa3d435045)
- chore(cli): rewire core imports to @karmaniverous/stan-core (no subpaths); add core interop [`ef2b0e9`](https://github.com/karmaniverous/stan-cli/commit/ef2b0e92f6f2500a9f394afdee4fbeeaf7e56fca)
- test: fix combine and selection-sync tests (mkdir, tar mock) [`95b46f5`](https://github.com/karmaniverous/stan-cli/commit/95b46f5b58946427e4735ee791f3212579aff807)
- test: capture tar calls reliably; fix TS duplicate import [`649c11b`](https://github.com/karmaniverous/stan-cli/commit/649c11b27ca3d9a11e87f75eb8af660cd70d4176)
- installed zod docs plugin [`4afe5ec`](https://github.com/karmaniverous/stan-cli/commit/4afe5eca48cafaf6d0456a11b291c72e0ccf8524)
- fix(run): absorb late SIGINT before next sequential spawn [`553f25b`](https://github.com/karmaniverous/stan-cli/commit/553f25bbecd2dd6530a48553b319d0b4b7732a94)
- chore(types): map @karmaniverous/stan-core to staged declarations for tsc [`13307b9`](https://github.com/karmaniverous/stan-cli/commit/13307b971491ed15ef9273f1dffecb989b3e1bac)
- fix(tests): make tar mocking effective and harden WARN detection [`c1b94a1`](https://github.com/karmaniverous/stan-cli/commit/c1b94a10f37335157f791497f67a1648fad3bb9c)
