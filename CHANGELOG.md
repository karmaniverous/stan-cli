### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

#### [0.9.0](https://github.com/karmaniverous/stan-cli/compare/0.8.0...0.9.0)

- feat(cli): dim “(Y/n)” in loop reversal prompt and DRY confirmation logic [`af2f3af`](https://github.com/karmaniverous/stan-cli/commit/af2f3af814b010b81c879c5f664c00d11ad3ca61)
- refactor(patch): decompose service; enforce FO-only and single-file diff [`8914d96`](https://github.com/karmaniverous/stan-cli/commit/8914d965e2a913e4ac7580280f0d3d8b1e24acdc)
- refactor: decompose UI/renderer/session; fix final-frame policy [`704bec7`](https://github.com/karmaniverous/stan-cli/commit/704bec7b0c14f2c28d341d182ce8ca7d19dbb189)
- fix(live): keep hint after first frame; attach keys before render; fix ANSI probe; serialize final frame [`3ee0b22`](https://github.com/karmaniverous/stan-cli/commit/3ee0b2289ddf2effb1d50817606ac7d9c56aa458)
- feat(logger): replace log-update with AnchoredWriter (no alt-screen); keep table anchored; hide hint on completion [`1ba936e`](https://github.com/karmaniverous/stan-cli/commit/1ba936e3cbeadf7758ba5c3f722068dd9e4d9bfb)
- fix(patch): classify File Ops–only patches correctly; add regression test [`f258e2e`](https://github.com/karmaniverous/stan-cli/commit/f258e2e9fc9c23da20fdaf3dded996723eb8ef1d)
- deleted bs tests [`58f049b`](https://github.com/karmaniverous/stan-cli/commit/58f049bdf73baa70d5e407b173e0d497cbab431d)
- refactor(live): decompose renderer; move frame composition to frame.ts; keep renderer lean [`e8223b0`](https://github.com/karmaniverous/stan-cli/commit/e8223b0945c76489b5f011ac9d24054a65250352)
- feat(live): switch to FullClearWriter; remove log-update dependency; stabilize Windows/VS Code footer [`7af38ad`](https://github.com/karmaniverous/stan-cli/commit/7af38ad0908cd2aa9c04c915d0cc6bb4da047f61)
- refactor: further decompose session/renderer; fix lint [`37adb86`](https://github.com/karmaniverous/stan-cli/commit/37adb868e591c3a4923db7cdb66a2be2453348d1)
- feat(loop): add loop header + reversal guard; global -y/--yes [`77891d3`](https://github.com/karmaniverous/stan-cli/commit/77891d3d957596471d1c041091bbb38c44bc678f)
- fix(live): add trailing newline to frames and assert footer persistence [`430fb15`](https://github.com/karmaniverous/stan-cli/commit/430fb15260aee61ef0d592e17fefe28586166909)
- refactor: extract live tracing to shared module [`3346b73`](https://github.com/karmaniverous/stan-cli/commit/3346b734e501cd52f462eb02f1cedae4f94bba18)
- patch: keep patch logs contiguous, print trailing blank once; DRY patch service [`f065382`](https://github.com/karmaniverous/stan-cli/commit/f06538210d15ce7c027592c69e32eb2b65b1770c)
- test(run): add live restart behavior test (instructions persist, single header-only flush, no clear) [`3e13bb6`](https://github.com/karmaniverous/stan-cli/commit/3e13bb6b0776963bb7ad1a755e0719386cbda837)
- test(live): add failing guard against ghost [FAIL] after restart; no stale end-state before new session starts [`a455dc5`](https://github.com/karmaniverous/stan-cli/commit/a455dc5e52692055b9e2c8816d1a1446e92af870)
- updated stan-core [`3073fd4`](https://github.com/karmaniverous/stan-cli/commit/3073fd4cd84bd1fa8f34d3b4b0f47aeae437624a)
- refactor(dry): unify UI types and BORING detection; remove duplicates [`102b64e`](https://github.com/karmaniverous/stan-cli/commit/102b64e89b416286476c7e58f9100000d3c8bebc)
- feat(patch): open modified files after successful apply [`86b8313`](https://github.com/karmaniverous/stan-cli/commit/86b831394fcf99779622f2170941c810809ab151)
- refactor(dry): centralize path/meta/counts helpers; adopt across UI/progress [`757ca12`](https://github.com/karmaniverous/stan-cli/commit/757ca12a549b2d4675dcd0dbcc8c7a04ed95ad59)
- fix(live): restart bridge drops stale rows; persist full table on completion [`abcddd6`](https://github.com/karmaniverous/stan-cli/commit/abcddd60b824d15e50a758e02753f54c00326de0)
- fix(live): restart shows CANCELLED immediately, no empty gap; flush new session rows [`2579cf9`](https://github.com/karmaniverous/stan-cli/commit/2579cf92096d5d75e5e209931a94809c254aeeb5)
- fix(live): left-align Time/Output headers; normalize trailing spacing; align tests [`7f5650e`](https://github.com/karmaniverous/stan-cli/commit/7f5650e8ceba2506c3d7e4f5413284d4fe610621)
- feat(patch): copy diagnostics to clipboard; add file line; open target on failure; fix table config [`ec6a168`](https://github.com/karmaniverous/stan-cli/commit/ec6a168587b5235998ecc7a3d6c2c9ae3b045d19)
- fix(live): left-align table headers to column content [`4fbfa94`](https://github.com/karmaniverous/stan-cli/commit/4fbfa942cac3027a3305e3f2bac12fea08776d2e)
- live: ANSI‑safe frame debug + lifecycle tracing (opt‑in) [`e3c1272`](https://github.com/karmaniverous/stan-cli/commit/e3c127290ea5efb596a83ee78cb1c2cf836c3de4)
- test(live): tighten ghost-fail restart test to fail when stale [FAIL] renders before first [WAIT]/[RUN] in new session [`d99b1a7`](https://github.com/karmaniverous/stan-cli/commit/d99b1a765edeed7ff21539198aac77d55543cf2c)
- live: add opt-in trace logs for renderer/sink (STAN_LIVE_DEBUG) [`6195ef3`](https://github.com/karmaniverous/stan-cli/commit/6195ef3e5e7cf29098a037402d14295ed0db3ca2)
- fix(live): keep table header visible between restarts [`abd383d`](https://github.com/karmaniverous/stan-cli/commit/abd383dbe4c258fd2b4218d6195b0f9ef71312db)
- fix: live restart guards; stabilize behavior test [`ed7bcf6`](https://github.com/karmaniverous/stan-cli/commit/ed7bcf6cfb5af2bd663ac62bcc19e895f711312f)
- refactor(cli): always use core dist system prompt [`250f63c`](https://github.com/karmaniverous/stan-cli/commit/250f63c5b0d50765815a3fcde630f9ebc1336a5c)
- chore(live): unify footer — render summary + hint together in header-only frames [`0ac5311`](https://github.com/karmaniverous/stan-cli/commit/0ac5311f6a755acb000894c430fca5f6e65b2684)
- test: normalize trailing-clears regex and relax restart assertions (fast terminals) [`760d495`](https://github.com/karmaniverous/stan-cli/commit/760d495d849715dd9a50a11a11486013e50ba475)
- test(run): harden live restart test (wait for [RUN], retry rm on Windows) [`0eb473b`](https://github.com/karmaniverous/stan-cli/commit/0eb473bbf7b870ef8d76489d5949ab5509c9462d)
- feat(cli): richer patch output and live table spacing [`a6aef20`](https://github.com/karmaniverous/stan-cli/commit/a6aef20b57243c94543636afb94410a1cc89c5ed)
- chore(snap): add trailing blank line after output in all paths [`b537f88`](https://github.com/karmaniverous/stan-cli/commit/b537f884fde77ae719e34ea31d64b464f459cfef)
- fix(run/live): reuse single UI across restarts; keep hint visible (no duplicate table) [`b7c0cef`](https://github.com/karmaniverous/stan-cli/commit/b7c0cef478acd7a50b0a29d6c89a0d54913f4648)
- test: robust terminal newline and restart progress checks; fix ups ordering [`b5f36bf`](https://github.com/karmaniverous/stan-cli/commit/b5f36bf0f62a1880abaa8a41f9b69cc3ae584600)
- test(run): bracket header-only flush between restart marker and first post-restart row [`b677dae`](https://github.com/karmaniverous/stan-cli/commit/b677dae8c489790cf0a414b5fd3adb7c9ce7d8e4)
- fix(run/live): align headers, print WARN output path, and trim trailing blanks; flush CANCELLED on restart [`c427932`](https://github.com/karmaniverous/stan-cli/commit/c4279327f687a1de06978ad1335b6b0bd1170d4b)
- fix(live): reuse same table on restart and cleanly detach handlers [`3cef1f3`](https://github.com/karmaniverous/stan-cli/commit/3cef1f37aa4bb02e2447b0e377918ed23e34119a)
- test(run): add expected-failing guard for live restart (single UI tag, persistent hint) [`c5ca34e`](https://github.com/karmaniverous/stan-cli/commit/c5ca34e4294a1626115e0c73425f10556d6b924b)
- fix(live): drop model and renderer rows at new-session boundary; no stale statuses; hint persists [`f27d634`](https://github.com/karmaniverous/stan-cli/commit/f27d634ae09cc6dc630fec99b9e78d8039361087)
- fix: reuse LiveUI across restarts; header-only bridge [`493b0c2`](https://github.com/karmaniverous/stan-cli/commit/493b0c2f75a97a762587c248332e253cb6e6fb6b)
- test: relax live restart/footer assertions to match correct runtime behavior [`4069baf`](https://github.com/karmaniverous/stan-cli/commit/4069baf109e7d41c97f66e6b9a49d711e79841fd)
- fix(live): deterministic header-only bridge on restart to keep hint visible [`ba0969b`](https://github.com/karmaniverous/stan-cli/commit/ba0969b2cffeb6ae86b9343709b2f3e598e9e2ac)
- decolorized stan build script [`cb89274`](https://github.com/karmaniverous/stan-cli/commit/cb892741d60df3ad9a11d2867062e0d69a147607)
- fix(patch): type/lint follow‑through after decomposition [`5ef57a7`](https://github.com/karmaniverous/stan-cli/commit/5ef57a7e3d18f17745c7ed9b00aac6f8920d4eec)
- fix(live): guarantee final-frame header + hint [`df925ef`](https://github.com/karmaniverous/stan-cli/commit/df925ef990cef2ba53e050287e989bfcc1267e6f)
- feat(run): make LiveUI/LiveSink.stop() idempotent to avoid duplicate final frames [`eac7810`](https://github.com/karmaniverous/stan-cli/commit/eac7810ba6f98b3041126fd59c774a9e0b8ceae4)
- test(run): scope live restart assertions to unique row; keep bounded wait [`24e424c`](https://github.com/karmaniverous/stan-cli/commit/24e424c3cba3c8b14f216fe6463eed3505d8b567)
- fix(run/live): two-space columns; exact header alignment; single final newline (no extra CLI newline) [`094727d`](https://github.com/karmaniverous/stan-cli/commit/094727d0374fad5cb3e90dd5a1176344e3816286)
- fix(live): hard-clear once before second paint to keep hint visible [`c7333c8`](https://github.com/karmaniverous/stan-cli/commit/c7333c872be91e32c8c9d98d990904bbd6c4da8d)
- fix(ui/logger): use relOut() in onArchiveEnd; remove leftover relative() [`4b7ac9c`](https://github.com/karmaniverous/stan-cli/commit/4b7ac9c4c1405bc6af39dd9da3b45ad2ba21ca13)
- fix(live): revert header-only final frame; keep restart bridge only [`1f3bf42`](https://github.com/karmaniverous/stan-cli/commit/1f3bf423113eff2f95dbd43d89df4c1772b7b607)
- test(run): scope live restart assertions to unique row; keep bounded wait [`ffa000e`](https://github.com/karmaniverous/stan-cli/commit/ffa000e7340ff64469522ff57fb54020c3c43ac2)
- fix(live): stop frame walk; ensure final newline [`f74fba5`](https://github.com/karmaniverous/stan-cli/commit/f74fba59d1a0be9ea633a4ef33f8cb7889e5c593)
- live: keep full table as final frame; header-only only on restart [`4a9acbe`](https://github.com/karmaniverous/stan-cli/commit/4a9acbefbdeaeae804f6737cfd629d891d5341c5)
- test(live): make final frame include header deterministically [`4f1faa4`](https://github.com/karmaniverous/stan-cli/commit/4f1faa404992b2286e25358ed77a47121046a0fa)
- live: include hint in final header-only frame [`e8859df`](https://github.com/karmaniverous/stan-cli/commit/e8859df034ceee15b4e45ea000449d5a9caf80bb)
- live: persist header-only final frame; docs note [`7a3d0a0`](https://github.com/karmaniverous/stan-cli/commit/7a3d0a05ca84a8254e3efef0a4684969644eae93)
- fix(live): stop frame from walking down each tick [`0c9b24d`](https://github.com/karmaniverous/stan-cli/commit/0c9b24d19b19a8e8e1515fe14d1d1e16f756f0d9)
- knip ignore cross-env [`3a1eec6`](https://github.com/karmaniverous/stan-cli/commit/3a1eec6070e7db096dfbd487580e5e7930c6440e)
- removed stan-core local alias [`f5c31d0`](https://github.com/karmaniverous/stan-cli/commit/f5c31d06b7676af754b383e73472aff78bd991b4)
- added build warnings [`93d3699`](https://github.com/karmaniverous/stan-cli/commit/93d369916991d4c92152e8528521b6ef7b49d124)

#### 0.8.0

> 7 October 2025

- Initial commit [`0aa40fe`](https://github.com/karmaniverous/stan-cli/commit/0aa40fe3218522b81a573b209c19e508ecaa2af2)
- chore(cli): remove core engine duplicates from repo [`0306a22`](https://github.com/karmaniverous/stan-cli/commit/0306a22a719718996bd3e7634805527866fbb4fe)
- Changed package name & created interop config [`cdfd13b`](https://github.com/karmaniverous/stan-cli/commit/cdfd13bb0368f0bbabe50ae7801205f607b8e52b)
- chore: release v0.8.0 [`a843c95`](https://github.com/karmaniverous/stan-cli/commit/a843c95778db14ec5b3083ea7f203362358cf57c)
- docs(cli): sync CLI requirements with stan-core import; prune core track [`bcfa432`](https://github.com/karmaniverous/stan-cli/commit/bcfa4323d04c0466295a497b3165bae6ce3bfea1)
- installed stan-core [`4897679`](https://github.com/karmaniverous/stan-cli/commit/4897679a3b2c0b19dc3fd73d5e104949325dd0d0)
- fix: lint + test parity; robust WARN detection; tar mock alias [`19294a3`](https://github.com/karmaniverous/stan-cli/commit/19294a3fc481422b553df7558d34894456f44c34)
- chore(cli): rewire core imports to @karmaniverous/stan-core (no subpaths); add core interop [`1dbc325`](https://github.com/karmaniverous/stan-cli/commit/1dbc325e32f34d9cf1e8601ffb6e0f7fbe04162d)
- chore: fix tar capture, WARN parity, docs warning, and cleanup [`437fe16`](https://github.com/karmaniverous/stan-cli/commit/437fe16036c326ca0f2b94e13e71b0be755ebe47)
- fix(patch): colorize status in TTY and copy diagnostics on failure [`e1e18b2`](https://github.com/karmaniverous/stan-cli/commit/e1e18b2d7c4f622f478d5857c7f347f68a4c18c5)
- chore(cli): rewire to top‑level stan‑core, add patch service, fix build/tests [`cf55cac`](https://github.com/karmaniverous/stan-cli/commit/cf55cac07f430a43376ad265035d3aa4bfd0ab65)
- chore(test): centralize tar call capture; fix WARN detection fallback [`8b78f78`](https://github.com/karmaniverous/stan-cli/commit/8b78f785dee16dab1d4d61bd95aa679530ca569c)
- updated dependencies [`c79190e`](https://github.com/karmaniverous/stan-cli/commit/c79190e3c6c58c259829e180b85ec8e4c866743c)
- test: stabilize archive/diff assertions (no tar-call capture) [`8d56c39`](https://github.com/karmaniverous/stan-cli/commit/8d56c39c0faa9aa71b2be2aafad954fa3d435045)
- chore(cli): rewire core imports to @karmaniverous/stan-core (no subpaths); add core interop [`ef2b0e9`](https://github.com/karmaniverous/stan-cli/commit/ef2b0e92f6f2500a9f394afdee4fbeeaf7e56fca)
- test: fix combine and selection-sync tests (mkdir, tar mock) [`95b46f5`](https://github.com/karmaniverous/stan-cli/commit/95b46f5b58946427e4735ee791f3212579aff807)
- test: capture tar calls reliably; fix TS duplicate import [`649c11b`](https://github.com/karmaniverous/stan-cli/commit/649c11b27ca3d9a11e87f75eb8af660cd70d4176)
- installed zod docs plugin [`4afe5ec`](https://github.com/karmaniverous/stan-cli/commit/4afe5eca48cafaf6d0456a11b291c72e0ccf8524)
- fix(run): absorb late SIGINT before next sequential spawn [`553f25b`](https://github.com/karmaniverous/stan-cli/commit/553f25bbecd2dd6530a48553b319d0b4b7732a94)
- chore(types): map @karmaniverous/stan-core to staged declarations for tsc [`13307b9`](https://github.com/karmaniverous/stan-cli/commit/13307b971491ed15ef9273f1dffecb989b3e1bac)
- fix(tests): make tar mocking effective and harden WARN detection [`c1b94a1`](https://github.com/karmaniverous/stan-cli/commit/c1b94a10f37335157f791497f67a1648fad3bb9c)
